(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[968],{2705:function(a,b,c){var d=c(5639).Symbol;a.exports=d},4239:function(a,b,c){var d=c(2705),e=c(9607),f=c(2333),g=d?d.toStringTag:void 0;a.exports=function(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":g&&g in Object(a)?e(a):f(a)}},7561:function(a,b,c){var d=c(7990),e=/^\s+/;a.exports=function(a){return a?a.slice(0,d(a)+1).replace(e,""):a}},1957:function(a,b,c){var d="object"==typeof c.g&&c.g&&c.g.Object===Object&&c.g;a.exports=d},9607:function(a,b,c){var d=c(2705),e=Object.prototype,f=e.hasOwnProperty,g=e.toString,h=d?d.toStringTag:void 0;a.exports=function(a){var b=f.call(a,h),c=a[h];try{a[h]=void 0;var d=!0}catch(e){}var i=g.call(a);return d&&(b?a[h]=c:delete a[h]),i}},2333:function(a){var b=Object.prototype.toString;a.exports=function(a){return b.call(a)}},5639:function(a,b,c){var d=c(1957),e="object"==typeof self&&self&&self.Object===Object&&self,f=d||e||Function("return this")();a.exports=f},7990:function(a){var b=/\s/;a.exports=function(a){for(var c=a.length;c-- &&b.test(a.charAt(c)););return c}},3279:function(a,b,c){var d=c(3218),e=c(7771),f=c(4841),g=Math.max,h=Math.min;a.exports=function(a,b,c){var i,j,k,l,m,n,o=0,p=!1,q=!1,r=!0;if("function"!=typeof a)throw new TypeError("Expected a function");function s(b){var c=i,d=j;return i=j=void 0,o=b,l=a.apply(d,c)}function t(a){var c=a-n;return void 0===n||c>=b||c<0||q&&a-o>=k}function u(){var a,c,d=e();if(t(d))return v(d);m=setTimeout(u,(c=b-((a=d)-n),q?h(c,k-(a-o)):c))}function v(a){return(m=void 0,r&&i)?s(a):(i=j=void 0,l)}function w(){var a,c=e(),d=t(c);if(i=arguments,j=this,n=c,d){if(void 0===m)return o=a=n,m=setTimeout(u,b),p?s(a):l;if(q)return clearTimeout(m),m=setTimeout(u,b),s(n)}return void 0===m&&(m=setTimeout(u,b)),l}return b=f(b)||0,d(c)&&(p=!!c.leading,q="maxWait"in c,k=q?g(f(c.maxWait)||0,b):k,r="trailing"in c?!!c.trailing:r),w.cancel=function(){void 0!==m&&clearTimeout(m),o=0,i=n=j=m=void 0},w.flush=function(){return void 0===m?l:v(e())},w}},3218:function(a){a.exports=function(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}},7005:function(a){a.exports=function(a){return null!=a&&"object"==typeof a}},3448:function(a,b,c){var d=c(4239),e=c(7005);a.exports=function(a){return"symbol"==typeof a||e(a)&&"[object Symbol]"==d(a)}},7771:function(a,b,c){var d=c(5639);a.exports=function(){return d.Date.now()}},3493:function(a,b,c){var d=c(3279),e=c(3218);a.exports=function(a,b,c){var f=!0,g=!0;if("function"!=typeof a)throw new TypeError("Expected a function");return e(c)&&(f="leading"in c?!!c.leading:f,g="trailing"in c?!!c.trailing:g),d(a,b,{leading:f,maxWait:b,trailing:g})}},4841:function(a,b,c){var d=c(7561),e=c(3218),f=c(3448),g=0/0,h=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,j=/^0o[0-7]+$/i,k=parseInt;a.exports=function(a){if("number"==typeof a)return a;if(f(a))return g;if(e(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=e(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=d(a);var c=i.test(a);return c||j.test(a)?k(a.slice(2),c?2:8):h.test(a)?g:+a}},8045:function(a,b,c){"use strict";function d(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a){return(function(a){if(Array.isArray(a))return d(a)})(a)||(function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)})(a)||g(a)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function g(a,b){if(a){if("string"==typeof a)return d(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d(a,b)}}b.default=function(a){var b,c,d=a.src,h=a.sizes,s=a.unoptimized,x=void 0!==s&&s,y=a.priority,z=void 0!==y&&y,A=a.loading,B=a.lazyRoot,C=void 0===B?null:B,D=a.lazyBoundary,E=void 0===D?"200px":D,F=a.className,G=a.quality,H=a.width,I=a.height,J=a.objectFit,K=a.objectPosition,L=a.onLoadingComplete,M=a.loader,N=void 0===M?w:M,O=a.placeholder,P=void 0===O?"empty":O,Q=a.blurDataURL,R=function(a,b){if(null==a)return{};var c,d,e=o(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["src","sizes","unoptimized","priority","loading","lazyRoot","lazyBoundary","className","quality","width","height","objectFit","objectPosition","onLoadingComplete","loader","placeholder","blurDataURL"]),S=i.useRef(null),T=i.useContext(m.ImageConfigContext),U=i.useMemo(function(){var a=p||T||k.imageConfigDefault,b=f(a.deviceSizes).concat(f(a.imageSizes)).sort(function(a,b){return a-b}),c=a.deviceSizes.sort(function(a,b){return a-b});return n({},a,{allSizes:b,deviceSizes:c})},[T]),V=R,W=h?"responsive":"intrinsic";"layout"in V&&(V.layout&&(W=V.layout),delete V.layout);var X,Y="";if("object"==typeof(X=d)&&(t(X)|| void 0!==X.src)){var Z=t(d)?d.default:d;if(!Z.src)throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(Z)));if(Q=Q||Z.blurDataURL,Y=Z.src,(!W||"fill"!==W)&&(I=I||Z.height,H=H||Z.width,!Z.height||!Z.width))throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(Z)))}d="string"==typeof d?d:Y;var $=v(H),_=v(I),aa=v(G),ba=!z&&("lazy"===A|| void 0===A);(d.startsWith("data:")||d.startsWith("blob:"))&&(x=!0,ba=!1),q.has(d)&&(ba=!1);var ca,da,ea=(da=2,function(a){if(Array.isArray(a))return a}(ca=l.useIntersection({rootRef:C,rootMargin:E,disabled:!ba}))||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(ca,da)||g(ca,da)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),fa=ea[0],ga=ea[1],ha=!ba||ga,ia={boxSizing:"border-box",display:"block",overflow:"hidden",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},ja={boxSizing:"border-box",display:"block",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},ka=!1,la={position:"absolute",top:0,left:0,bottom:0,right:0,boxSizing:"border-box",padding:0,border:"none",margin:"auto",display:"block",width:0,height:0,minWidth:"100%",maxWidth:"100%",minHeight:"100%",maxHeight:"100%",objectFit:J,objectPosition:K},ma="blur"===P?{filter:"blur(20px)",backgroundSize:J||"cover",backgroundImage:"url(\"".concat(Q,"\")"),backgroundPosition:K||"0% 0%"}:{};if("fill"===W)ia.display="block",ia.position="absolute",ia.top=0,ia.left=0,ia.bottom=0,ia.right=0;else if(void 0!==$&& void 0!==_){var na=_/$,oa=isNaN(na)?"100%":"".concat(100*na,"%");"responsive"===W?(ia.display="block",ia.position="relative",ka=!0,ja.paddingTop=oa):"intrinsic"===W?(ia.display="inline-block",ia.position="relative",ia.maxWidth="100%",ka=!0,ja.maxWidth="100%",b="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27".concat($,"%27%20height=%27").concat(_,"%27/%3e")):"fixed"===W&&(ia.display="inline-block",ia.position="relative",ia.width=$,ia.height=_)}var pa={src:r,srcSet:void 0,sizes:void 0};ha&&(pa=u({config:U,src:d,unoptimized:x,layout:W,width:$,quality:aa,sizes:h,loader:N}));var qa=d,ra=(e(c={},"imagesrcset",pa.srcSet),e(c,"imagesizes",pa.sizes),c),sa=i.default.useLayoutEffect,ta=i.useRef(L);return i.useEffect(function(){ta.current=L},[L]),sa(function(){fa(S.current)},[fa]),i.useEffect(function(){var a,b,c,d,e;a=S,b=qa,c=P,d=ta,e=function(){var e=a.current;e&&e.src!==r&&("decode"in e?e.decode():Promise.resolve()).catch(function(){}).then(function(){if(a.current&&(q.add(b),"blur"===c&&(e.style.filter="",e.style.backgroundSize="",e.style.backgroundImage="",e.style.backgroundPosition=""),d.current)){var f=e.naturalWidth,g=e.naturalHeight;d.current({naturalWidth:f,naturalHeight:g})}})},a.current&&(a.current.complete?e():a.current.onload=e)},[qa,W,P,ha]),i.default.createElement("span",{style:ia},ka?i.default.createElement("span",{style:ja},b?i.default.createElement("img",{style:{display:"block",maxWidth:"100%",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},alt:"","aria-hidden":!0,src:b}):null):null,i.default.createElement("img",Object.assign({},V,pa,{decoding:"async","data-nimg":W,className:F,ref:S,style:n({},la,ma)})),ba&&i.default.createElement("noscript",null,i.default.createElement("img",Object.assign({},V,u({config:U,src:d,unoptimized:x,layout:W,width:$,quality:aa,sizes:h,loader:N}),{decoding:"async","data-nimg":W,style:la,className:F,loading:A||"lazy"}))),z?i.default.createElement(j.default,null,i.default.createElement("link",Object.assign({key:"__nimg-"+pa.src+pa.srcSet+pa.sizes,rel:"preload",as:"image",href:pa.srcSet?void 0:pa.src},ra))):null)};var h,i=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a){for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}}return b.default=a,b}(c(7294)),j=(h=c(5443))&&h.__esModule?h:{default:h},k=c(5809),l=c(7190),m=c(9977);function n(a){for(var b=arguments,c=1;c<arguments.length;c++)!function(c){var d=null!=b[c]?b[c]:{},e=Object.keys(d);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable}))),e.forEach(function(b){var c,e,f;c=a,e=b,f=d[b],e in c?Object.defineProperty(c,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[e]=f})}(c);return a}function o(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}var p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default"},q=new Set();new Map();var r="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",s=new Map([["default",function(a){var b=a.config,c=a.src,d=a.width,e=a.quality;return c.endsWith(".svg")&&!b.dangerouslyAllowSVG?c:"".concat(b.path,"?url=").concat(encodeURIComponent(c),"&w=").concat(d,"&q=").concat(e||75)}],["imgix",function(a){var b=a.config,c=a.src,d=a.width,e=a.quality,f=new URL("".concat(b.path).concat(x(c))),g=f.searchParams;return g.set("auto",g.get("auto")||"format"),g.set("fit",g.get("fit")||"max"),g.set("w",g.get("w")||d.toString()),e&&g.set("q",e.toString()),f.href}],["cloudinary",function(a){var b=a.config,c=a.src,d=a.width,e=a.quality,f=["f_auto","c_limit","w_"+d,"q_"+(e||"auto")].join(",")+"/";return"".concat(b.path).concat(f).concat(x(c))}],["akamai",function(a){var b=a.config,c=a.src,d=a.width;return"".concat(b.path).concat(x(c),"?imwidth=").concat(d)}],["custom",function(a){var b=a.src;throw new Error("Image with src \"".concat(b,"\" is missing \"loader\" prop.")+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}],]);function t(a){return void 0!==a.default}function u(a){var b=a.config,c=a.src,d=a.unoptimized,e=a.layout,g=a.width,h=a.quality,i=a.sizes,j=a.loader;if(d)return{src:c,srcSet:void 0,sizes:void 0};var k=function(a,b,c,d){var e=a.deviceSizes,g=a.allSizes;if(d&&("fill"===c||"responsive"===c)){for(var h=/(^|\s)(1?\d?\d)vw/g,i=[];j=h.exec(d);j)i.push(parseInt(j[2]));if(i.length){var j,k,l=.01*(k=Math).min.apply(k,f(i));return{widths:g.filter(function(a){return a>=e[0]*l}),kind:"w"}}return{widths:g,kind:"w"}}return"number"!=typeof b||"fill"===c||"responsive"===c?{widths:e,kind:"w"}:{widths:f(new Set([b,2*b].map(function(a){return g.find(function(b){return b>=a})||g[g.length-1]}))),kind:"x"}}(b,g,e,i),l=k.widths,m=k.kind,n=l.length-1;return{sizes:i||"w"!==m?i:"100vw",srcSet:l.map(function(a,d){return"".concat(j({config:b,src:c,quality:h,width:a})," ").concat("w"===m?a:d+1).concat(m)}).join(", "),src:j({config:b,src:c,quality:h,width:l[n]})}}function v(a){return"number"==typeof a?a:"string"==typeof a?parseInt(a,10):void 0}function w(a){var b,c=(null===(b=a.config)|| void 0===b?void 0:b.loader)||"default",d=s.get(c);if(d)return d(a);throw new Error("Unknown \"loader\" found in \"next.config.js\". Expected: ".concat(k.VALID_LOADERS.join(", "),". Received: ").concat(c))}function x(a){return"/"===a[0]?a.slice(1):a}},8418:function(a,b,c){"use strict";function d(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function e(a,b){return(function(a){if(Array.isArray(a))return a})(a)||(function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}})(a,b)||f(a,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function f(a,b){if(a){if("string"==typeof a)return d(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d(a,b)}}b.default=void 0;var g,h=(g=c(7294))&&g.__esModule?g:{default:g},i=c(6273),j=c(387),k=c(7190),l={};function m(a,b,c,d){if(a&&i.isLocalURL(b)){a.prefetch(b,c,d).catch(function(a){});var e=d&& void 0!==d.locale?d.locale:a&&a.locale;l[b+"%"+c+(e?"%"+e:"")]=!0}}b.default=function(a){var b,c=!1!==a.prefetch,d=j.useRouter(),f=h.default.useMemo(function(){var b=e(i.resolveHref(d,a.href,!0),2),c=b[0],f=b[1];return{href:c,as:a.as?i.resolveHref(d,a.as):f||c}},[d,a.href,a.as]),g=f.href,n=f.as,o=a.children,p=a.replace,q=a.shallow,r=a.scroll,s=a.locale;"string"==typeof o&&(o=h.default.createElement("a",null,o));var t=(b=h.default.Children.only(o))&&"object"==typeof b&&b.ref,u=e(k.useIntersection({rootMargin:"200px"}),2),v=u[0],w=u[1],x=h.default.useCallback(function(a){v(a),t&&("function"==typeof t?t(a):"object"==typeof t&&(t.current=a))},[t,v]);h.default.useEffect(function(){var a=w&&c&&i.isLocalURL(g),b=void 0!==s?s:d&&d.locale,e=l[g+"%"+n+(b?"%"+b:"")];a&&!e&&m(d,g,n,{locale:b})},[n,g,w,s,c,d]);var y={ref:x,onClick:function(a){var c,e,f,h,j,k,l,m,o,t;b.props&&"function"==typeof b.props.onClick&&b.props.onClick(a),a.defaultPrevented||(c=a,e=d,f=g,h=n,j=p,k=q,l=r,m=s,"A"===c.currentTarget.nodeName.toUpperCase()&&((t=(o=c).currentTarget.target)&&"_self"!==t||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey||o.nativeEvent&&2===o.nativeEvent.which||!i.isLocalURL(f))||(c.preventDefault(),e[j?"replace":"push"](f,h,{shallow:k,locale:m,scroll:l})))}};if(y.onMouseEnter=function(a){b.props&&"function"==typeof b.props.onMouseEnter&&b.props.onMouseEnter(a),i.isLocalURL(g)&&m(d,g,n,{priority:!0})},a.passHref||"a"===b.type&&!("href"in b.props)){var z=void 0!==s?s:d&&d.locale,A=d&&d.isLocaleDomain&&i.getDomainLocale(n,z,d&&d.locales,d&&d.domainLocales);y.href=A||i.addBasePath(i.addLocale(n,z,d&&d.defaultLocale))}return h.default.cloneElement(b,y)}},7190:function(a,b,c){"use strict";function d(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function e(a,b){return(function(a){if(Array.isArray(a))return a})(a)||(function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}})(a,b)||f(a,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function f(a,b){if(a){if("string"==typeof a)return d(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d(a,b)}}Object.defineProperty(b,"__esModule",{value:!0}),b.useIntersection=function(a){var b=a.rootRef,c=a.rootMargin,d=a.disabled||!i,f=g.useRef(),k=e(g.useState(!1),2),l=k[0],m=k[1],n=e(g.useState(b?b.current:null),2),o=n[0],p=n[1],q=g.useCallback(function(a){f.current&&(f.current(),f.current=void 0),!d&&!l&&a&&a.tagName&&(f.current=j(a,function(a){return a&&m(a)},{root:o,rootMargin:c}))},[d,o,c,l]);return g.useEffect(function(){if(!i&&!l){var a=h.requestIdleCallback(function(){return m(!0)});return function(){return h.cancelIdleCallback(a)}}},[l]),g.useEffect(function(){b&&p(b.current)},[b]),[q,l]};var g=c(7294),h=c(9311),i="undefined"!=typeof IntersectionObserver;function j(a,b,c){var d=m(c),e=d.id,f=d.observer,g=d.elements;return g.set(a,b),f.observe(a),function(){if(g.delete(a),f.unobserve(a),0===g.size){f.disconnect(),k.delete(e);var b=l.findIndex(function(a){return a.root===e.root&&a.margin===e.margin});b> -1&&l.splice(b,1)}}}var k=new Map(),l=[];function m(a){var b,c={root:a.root||null,margin:a.rootMargin||""},d=l.find(function(a){return a.root===c.root&&a.margin===c.margin});if(d?b=k.get(d):(b=k.get(c),l.push(c)),b)return b;var e=new Map(),f=new IntersectionObserver(function(a){a.forEach(function(a){var b=e.get(a.target),c=a.isIntersecting||a.intersectionRatio>0;b&&c&&b(c)})},a);return k.set(c,b={id:c,observer:f,elements:e}),b}},638:function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},e=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),e.forEach(function(b){d(a,b,c[b])})}return a}b.default=function(a,b){var c,d,g=f.default,i={loading:function(a){return a.error,a.isLoading,a.pastDelay,null}};(c=a,null!=(d=Promise)&&"undefined"!=typeof Symbol&&d[Symbol.hasInstance]?d[Symbol.hasInstance](c):c instanceof d)?i.loader=function(){return a}:"function"==typeof a?i.loader=a:"object"==typeof a&&(i=e({},i,a));var j=i=e({},i,b);if(j.suspense)throw new Error("Invalid suspense option usage in next/dynamic. Read more: https://nextjs.org/docs/messages/invalid-dynamic-suspense");if(j.suspense)return g(j);if(i.loadableGenerated&&delete(i=e({},i,i.loadableGenerated)).loadableGenerated,"boolean"==typeof i.ssr){if(!i.ssr)return delete i.ssr,h(g,i);delete i.ssr}return g(i)},g(c(7294));var f=g(c(4302));function g(a){return a&&a.__esModule?a:{default:a}}function h(a,b){return delete b.webpack,delete b.modules,a(b)}},6319:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LoadableContext=void 0;var d,e=((d=c(7294))&&d.__esModule?d:{default:d}).default.createContext(null);b.LoadableContext=e},4302:function(a,b,c){"use strict";function d(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var g,h=(g=c(7294))&&g.__esModule?g:{default:g},i=c(7161),j=c(6319),k=[],l=[],m=!1;function n(a){var b=a(),c={loading:!0,loaded:null,error:null};return c.promise=b.then(function(a){return c.loading=!1,c.loaded=a,a}).catch(function(a){throw c.loading=!1,c.error=a,a}),c}var o=function(){var a,b,c;function e(a,b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,e),this._loadFn=a,this._opts=b,this._callbacks=new Set(),this._delay=null,this._timeout=null,this.retry()}return a=e,b=[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var a=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var b=this._res,c=this._opts;if(b.loading){if("number"==typeof c.delay)if(0===c.delay)this._state.pastDelay=!0;else{var d=this;this._delay=setTimeout(function(){d._update({pastDelay:!0})},c.delay)}if("number"==typeof c.timeout){var e=this;this._timeout=setTimeout(function(){e._update({timedOut:!0})},c.timeout)}}this._res.promise.then(function(){a._update({}),a._clearTimeouts()}).catch(function(b){a._update({}),a._clearTimeouts()}),this._update({})}},{key:"_update",value:function(a){this._state=f({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},a),this._callbacks.forEach(function(a){return a()})}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(a){var b=this;return this._callbacks.add(a),function(){b._callbacks.delete(a)}}}],d(a.prototype,b),c&&d(a,c),e}();function p(a){return(function(a,b){var c=function(){if(!e){var b=new o(a,d);e={getCurrentValue:b.getCurrentValue.bind(b),subscribe:b.subscribe.bind(b),retry:b.retry.bind(b),promise:b.promise.bind(b)}}return e.promise()},d=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},b);d.suspense&&(d.lazy=h.default.lazy(d.loader));var e=null;if(!m&&!d.suspense){var g=d.webpack&&1?d.webpack():d.modules;g&&l.push(function(a){var b=!0,d=!1,e=void 0;try{for(var f,h=g[Symbol.iterator]();!(b=(f=h.next()).done);b=!0){var i=f.value;if(-1!==a.indexOf(i))return c()}}catch(j){d=!0,e=j}finally{try{b||null==h.return||h.return()}finally{if(d)throw e}}})}var k=d.suspense?function(a,b){return h.default.createElement(d.lazy,f({},a,{ref:b}))}:function(a,b){c();var f=h.default.useContext(j.LoadableContext),g=i.useSubscription(e);return h.default.useImperativeHandle(b,function(){return{retry:e.retry}},[]),f&&Array.isArray(d.modules)&&d.modules.forEach(function(a){f(a)}),h.default.useMemo(function(){var b;return g.loading||g.error?h.default.createElement(d.loading,{isLoading:g.loading,pastDelay:g.pastDelay,timedOut:g.timedOut,error:g.error,retry:e.retry}):g.loaded?h.default.createElement((b=g.loaded)&&b.__esModule?b.default:b,a):null},[a,g])};return k.preload=function(){return!d.suspense&&c()},k.displayName="LoadableComponent",h.default.forwardRef(k)})(n,a)}function q(a,b){for(var c=[];a.length;){var d=a.pop();c.push(d(b))}return Promise.all(c).then(function(){if(a.length)return q(a,b)})}p.preloadAll=function(){return new Promise(function(a,b){q(k).then(a,b)})},p.preloadReady=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:[];return new Promise(function(b){var c=function(){return m=!0,b()};q(l,a).then(c,c)})},window.__NEXT_PRELOADREADY=p.preloadReady,b.default=p},4629:function(){},1660:function(){},9058:function(){},5152:function(a,b,c){a.exports=c(638)},5675:function(a,b,c){a.exports=c(8045)},1664:function(a,b,c){a.exports=c(8418)},4865:function(a,b,c){var d,e;!function(f,g){void 0!==(e="function"==typeof(d=g)?d.call(b,c,b,a):d)&&(a.exports=e)}(this,function(){var a={};a.version="0.2.0";var b,c,d=a.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:"[role=\"bar\"]",spinnerSelector:"[role=\"spinner\"]",parent:"body",template:"<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>"};function e(a,b,c){return a<b?b:a>c?c:a}function f(a){return(-1+a)*100}a.configure=function(a){var b,c;for(b in a)void 0!==(c=a[b])&&a.hasOwnProperty(b)&&(d[b]=c);return this},a.status=null,a.set=function(b){var c=a.isStarted();b=e(b,d.minimum,1),a.status=1===b?null:b;var i=a.render(!c),j=i.querySelector(d.barSelector),k=d.speed,l=d.easing;return i.offsetWidth,g(function(c){var e,g,m,n;""===d.positionUsing&&(d.positionUsing=a.getPositioningCSS()),h(j,(e=b,g=k,m=l,(n="translate3d"===d.positionUsing?{transform:"translate3d("+f(e)+"%,0,0)"}:"translate"===d.positionUsing?{transform:"translate("+f(e)+"%,0)"}:{"margin-left":f(e)+"%"}).transition="all "+g+"ms "+m,n)),1===b?(h(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){h(i,{transition:"all "+k+"ms linear",opacity:0}),setTimeout(function(){a.remove(),c()},k)},k)):setTimeout(c,k)}),this},a.isStarted=function(){return"number"==typeof a.status},a.start=function(){a.status||a.set(0);var b=function(){setTimeout(function(){a.status&&(a.trickle(),b())},d.trickleSpeed)};return d.trickle&&b(),this},a.done=function(b){return b||a.status?a.inc(.3+.5*Math.random()).set(1):this},a.inc=function(b){var c=a.status;return c?("number"!=typeof b&&(b=(1-c)*e(Math.random()*c,.1,.95)),c=e(c+b,0,.994),a.set(c)):a.start()},a.trickle=function(){return a.inc(Math.random()*d.trickleRate)},b=0,c=0,a.promise=function(d){return d&&"resolved"!==d.state()&&(0===c&&a.start(),b++,c++,d.always(function(){c--,0===c?(b=0,a.done()):a.set((b-c)/b)})),this},a.render=function(b){if(a.isRendered())return document.getElementById("nprogress");j(document.documentElement,"nprogress-busy");var c=document.createElement("div");c.id="nprogress",c.innerHTML=d.template;var e,g=c.querySelector(d.barSelector),i=b?"-100":f(a.status||0),k=document.querySelector(d.parent);return h(g,{transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),!d.showSpinner&&(e=c.querySelector(d.spinnerSelector))&&m(e),k!=document.body&&j(k,"nprogress-custom-parent"),k.appendChild(c),c},a.remove=function(){k(document.documentElement,"nprogress-busy"),k(document.querySelector(d.parent),"nprogress-custom-parent");var a=document.getElementById("nprogress");a&&m(a)},a.isRendered=function(){return!!document.getElementById("nprogress")},a.getPositioningCSS=function(){var a=document.body.style,b="WebkitTransform"in a?"Webkit":"MozTransform"in a?"Moz":"msTransform"in a?"ms":"OTransform"in a?"O":"";return b+"Perspective" in a?"translate3d":b+"Transform" in a?"translate":"margin"};var g=function(){var a=[];function b(){var c=a.shift();c&&c(b)}return function(c){a.push(c),1==a.length&&b()}}(),h=function(){var a=["Webkit","O","Moz","ms"],b={};function c(c,d,e){var f;d=b[f=(f=d).replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()})]||(b[f]=(function(b){var c=document.body.style;if(b in c)return b;for(var d,e=a.length,f=b.charAt(0).toUpperCase()+b.slice(1);e--;)if((d=a[e]+f)in c)return d;return b})(f)),c.style[d]=e}return function(a,b){var d,e,f=arguments;if(2==f.length)for(d in b)void 0!==(e=b[d])&&b.hasOwnProperty(d)&&c(a,d,e);else c(a,f[1],f[2])}}();function i(a,b){return("string"==typeof a?a:l(a)).indexOf(" "+b+" ")>=0}function j(a,b){var c=l(a);i(c,b)||(a.className=(c+b).substring(1))}function k(a,b){var c,d=l(a);i(a,b)&&(c=d.replace(" "+b+" "," "),a.className=c.substring(1,c.length-1))}function l(a){return(" "+(a.className||"")+" ").replace(/\s+/gi," ")}function m(a){a&&a.parentNode&&a.parentNode.removeChild(a)}return a})},75:function(a,b,c){var d=c(3454);(function(){var b,c,e;"undefined"!=typeof performance&&null!==performance&&performance.now?a.exports=function(){return performance.now()}:null!=d&&d.hrtime?(a.exports=function(){return(b()-e)/1e6},c=d.hrtime,e=(b=function(){var a;return 1e9*(a=c())[0]+a[1]})()):Date.now?(a.exports=function(){return Date.now()-e},e=Date.now()):(a.exports=function(){return new Date().getTime()-e},e=new Date().getTime())}).call(this)},2703:function(a,b,c){"use strict";var d=c(414);function e(){}a.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b};return c.checkPropTypes=e,c.PropTypes=c,c}},5697:function(a,b,c){a.exports=c(2703)()},414:function(a){"use strict";a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4087:function(a,b,c){for(var d=c(1407),e="undefined"==typeof window?c.g:window,f=["moz","webkit"],g="AnimationFrame",h=e["request"+g],i=e["cancel"+g]||e["cancelRequest"+g],j=0;!h&&j<f.length;j++)h=e[f[j]+"Request"+g],i=e[f[j]+"Cancel"+g]||e[f[j]+"CancelRequest"+g];if(!h||!i){var k=0,l=0,m=[],n=1e3/60;h=function(a){if(0===m.length){var b=d(),c=Math.max(0,n-(b-k));k=c+b,setTimeout(function(){var a=m.slice(0);m.length=0;for(var b=0;b<a.length;b++)if(!a[b].cancelled)try{a[b].callback(k)}catch(c){setTimeout(function(){throw c},0)}},Math.round(c))}return m.push({handle:++l,callback:a,cancelled:!1}),l},i=function(a){for(var b=0;b<m.length;b++)m[b].handle===a&&(m[b].cancelled=!0)}}a.exports=function(a){return h.call(e,a)},a.exports.cancel=function(){i.apply(e,arguments)},a.exports.polyfill=function(a){a||(a=e),a.requestAnimationFrame=h,a.cancelAnimationFrame=i}},1407:function(a,b,c){var d=c(3454);(function(){var b,c,e,f;"undefined"!=typeof performance&&null!==performance&&performance.now?a.exports=function(){return performance.now()}:null!=d&&d.hrtime?(a.exports=function(){return(b()-f)/1e6},c=d.hrtime,f=(b=function(){var a;return 1e9*(a=c())[0]+a[1]})()-1e9*d.uptime()):Date.now?(a.exports=function(){return Date.now()-e},e=Date.now()):(a.exports=function(){return new Date().getTime()-e},e=new Date().getTime())}).call(this)},9144:function(a,b,c){"use strict";b.__esModule=!0;var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function f(a){return a&&a.__esModule?a:{"default":a}}var g=f(c(4846)),h=f(c(9483)),i=f(c(2835)),j=f(c(75)),k=f(c(4087)),l=f(c(7739)),m=f(c(7294)),n=f(c(5697)),o=1e3/60,p=function(a){function b(c){var e=this;!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a.call(this,c),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(a){var b=!1,c=e.state,f=c.currentStyle,g=c.currentVelocity,h=c.lastIdealStyle,i=c.lastIdealVelocity;for(var j in a)if(Object.prototype.hasOwnProperty.call(a,j)){var k=a[j];"number"==typeof k&&(b||(b=!0,f=d({},f),g=d({},g),h=d({},h),i=d({},i)),f[j]=k,g[j]=0,h[j]=k,i[j]=0)}b&&e.setState({currentStyle:f,currentVelocity:g,lastIdealStyle:h,lastIdealVelocity:i})},this.startAnimationIfNecessary=function(){e.animationID=k.default(function(a){var b=e.props.style;if(l.default(e.state.currentStyle,b,e.state.currentVelocity)){e.wasAnimating&&e.props.onRest&&e.props.onRest(),e.animationID=null,e.wasAnimating=!1,e.accumulatedTime=0;return}e.wasAnimating=!0;var c=a||j.default(),d=c-e.prevTime;if(e.prevTime=c,e.accumulatedTime=e.accumulatedTime+d,e.accumulatedTime>10*o&&(e.accumulatedTime=0),0===e.accumulatedTime){e.animationID=null,e.startAnimationIfNecessary();return}var f=(e.accumulatedTime-Math.floor(e.accumulatedTime/o)*o)/o,g=Math.floor(e.accumulatedTime/o),h={},k={},m={},n={};for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p)){var q=b[p];if("number"==typeof q)m[p]=q,n[p]=0,h[p]=q,k[p]=0;else{for(var r=e.state.lastIdealStyle[p],s=e.state.lastIdealVelocity[p],t=0;t<g;t++){var u=i.default(o/1e3,r,s,q.val,q.stiffness,q.damping,q.precision);r=u[0],s=u[1]}var v=i.default(o/1e3,r,s,q.val,q.stiffness,q.damping,q.precision),w=v[0],x=v[1];m[p]=r+(w-r)*f,n[p]=s+(x-s)*f,h[p]=r,k[p]=s}}e.animationID=null,e.accumulatedTime-=g*o,e.setState({currentStyle:m,currentVelocity:n,lastIdealStyle:h,lastIdealVelocity:k}),e.unreadPropStyle=null,e.startAnimationIfNecessary()})},this.state=this.defaultState()}return!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,a),e(b,null,[{key:"propTypes",value:{defaultStyle:n.default.objectOf(n.default.number),style:n.default.objectOf(n.default.oneOfType([n.default.number,n.default.object])).isRequired,children:n.default.func.isRequired,onRest:n.default.func},enumerable:!0}]),b.prototype.defaultState=function(){var a=this.props,b=a.defaultStyle,c=a.style,d=b||h.default(c),e=g.default(d);return{currentStyle:d,currentVelocity:e,lastIdealStyle:d,lastIdealVelocity:e}},b.prototype.componentDidMount=function(){this.prevTime=j.default(),this.startAnimationIfNecessary()},b.prototype.componentWillReceiveProps=function(a){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=a.style,null==this.animationID&&(this.prevTime=j.default(),this.startAnimationIfNecessary())},b.prototype.componentWillUnmount=function(){null!=this.animationID&&(k.default.cancel(this.animationID),this.animationID=null)},b.prototype.render=function(){var a=this.props.children(this.state.currentStyle);return a&&m.default.Children.only(a)},b}(m.default.Component);b.default=p,a.exports=b.default},6506:function(a,b,c){"use strict";b.__esModule=!0;var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function f(a){return a&&a.__esModule?a:{"default":a}}var g=f(c(4846)),h=f(c(9483)),i=f(c(2835)),j=f(c(75)),k=f(c(4087)),l=f(c(7739)),m=f(c(7294)),n=f(c(5697)),o=1e3/60,p=function(a){function b(c){var e=this;!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a.call(this,c),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(a){for(var b=e.state,c=b.currentStyles,f=b.currentVelocities,g=b.lastIdealStyles,h=b.lastIdealVelocities,i=!1,j=0;j<a.length;j++){var k=a[j],l=!1;for(var m in k)if(Object.prototype.hasOwnProperty.call(k,m)){var n=k[m];"number"==typeof n&&(l||(l=!0,i=!0,c[j]=d({},c[j]),f[j]=d({},f[j]),g[j]=d({},g[j]),h[j]=d({},h[j])),c[j][m]=n,f[j][m]=0,g[j][m]=n,h[j][m]=0)}}i&&e.setState({currentStyles:c,currentVelocities:f,lastIdealStyles:g,lastIdealVelocities:h})},this.startAnimationIfNecessary=function(){e.animationID=k.default(function(a){var b=e.props.styles(e.state.lastIdealStyles);if((function(a,b,c){for(var d=0;d<a.length;d++)if(!l.default(a[d],b[d],c[d]))return!1;return!0})(e.state.currentStyles,b,e.state.currentVelocities)){e.animationID=null,e.accumulatedTime=0;return}var c=a||j.default(),d=c-e.prevTime;if(e.prevTime=c,e.accumulatedTime=e.accumulatedTime+d,e.accumulatedTime>10*o&&(e.accumulatedTime=0),0===e.accumulatedTime){e.animationID=null,e.startAnimationIfNecessary();return}for(var f=(e.accumulatedTime-Math.floor(e.accumulatedTime/o)*o)/o,g=Math.floor(e.accumulatedTime/o),h=[],k=[],m=[],n=[],p=0;p<b.length;p++){var q=b[p],r={},s={},t={},u={};for(var v in q)if(Object.prototype.hasOwnProperty.call(q,v)){var w=q[v];if("number"==typeof w)r[v]=w,s[v]=0,t[v]=w,u[v]=0;else{for(var x=e.state.lastIdealStyles[p][v],y=e.state.lastIdealVelocities[p][v],z=0;z<g;z++){var A=i.default(o/1e3,x,y,w.val,w.stiffness,w.damping,w.precision);x=A[0],y=A[1]}var B=i.default(o/1e3,x,y,w.val,w.stiffness,w.damping,w.precision),C=B[0],D=B[1];r[v]=x+(C-x)*f,s[v]=y+(D-y)*f,t[v]=x,u[v]=y}}m[p]=r,n[p]=s,h[p]=t,k[p]=u}e.animationID=null,e.accumulatedTime-=g*o,e.setState({currentStyles:m,currentVelocities:n,lastIdealStyles:h,lastIdealVelocities:k}),e.unreadPropStyles=null,e.startAnimationIfNecessary()})},this.state=this.defaultState()}return!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,a),e(b,null,[{key:"propTypes",value:{defaultStyles:n.default.arrayOf(n.default.objectOf(n.default.number)),styles:n.default.func.isRequired,children:n.default.func.isRequired},enumerable:!0}]),b.prototype.defaultState=function(){var a=this.props,b=a.defaultStyles,c=a.styles,d=b||c().map(h.default),e=d.map(function(a){return g.default(a)});return{currentStyles:d,currentVelocities:e,lastIdealStyles:d,lastIdealVelocities:e}},b.prototype.componentDidMount=function(){this.prevTime=j.default(),this.startAnimationIfNecessary()},b.prototype.componentWillReceiveProps=function(a){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=a.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=j.default(),this.startAnimationIfNecessary())},b.prototype.componentWillUnmount=function(){null!=this.animationID&&(k.default.cancel(this.animationID),this.animationID=null)},b.prototype.render=function(){var a=this.props.children(this.state.currentStyles);return a&&m.default.Children.only(a)},b}(m.default.Component);b.default=p,a.exports=b.default},921:function(a,b,c){"use strict";b.__esModule=!0;var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function f(a){return a&&a.__esModule?a:{"default":a}}var g=f(c(4846)),h=f(c(9483)),i=f(c(2835)),j=f(c(8505)),k=f(c(75)),l=f(c(4087)),m=f(c(7739)),n=f(c(7294)),o=f(c(5697)),p=1e3/60;function q(a,b,c){var d=b;return null==d?a.map(function(a,b){return{key:a.key,data:a.data,style:c[b]}}):a.map(function(a,b){for(var e=0;e<d.length;e++)if(d[e].key===a.key)return{key:d[e].key,data:d[e].data,style:c[b]};return{key:a.key,data:a.data,style:c[b]}})}function r(a,b,c,d,e,f,h,i,k){for(var l=j.default(d,e,function(a,d){var e=b(d);return null==e?(c({key:d.key,data:d.data}),null):m.default(f[a],e,h[a])?(c({key:d.key,data:d.data}),null):{key:d.key,data:d.data,style:e}}),n=[],o=[],p=[],q=[],r=0;r<l.length;r++){for(var s=l[r],t=null,u=0;u<d.length;u++)if(d[u].key===s.key){t=u;break}if(null==t){var v=a(s);n[r]=v,p[r]=v;var w=g.default(s.style);o[r]=w,q[r]=w}else n[r]=f[t],p[r]=i[t],o[r]=h[t],q[r]=k[t]}return[l,n,o,p,q]}var s=function(a){function b(c){var e=this;!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a.call(this,c),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(a){for(var b=r(e.props.willEnter,e.props.willLeave,e.props.didLeave,e.state.mergedPropsStyles,a,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities),c=b[0],f=b[1],g=b[2],h=b[3],i=b[4],j=0;j<a.length;j++){var k=a[j].style,l=!1;for(var m in k)if(Object.prototype.hasOwnProperty.call(k,m)){var n=k[m];"number"==typeof n&&(l||(l=!0,f[j]=d({},f[j]),g[j]=d({},g[j]),h[j]=d({},h[j]),i[j]=d({},i[j]),c[j]={key:c[j].key,data:c[j].data,style:d({},c[j].style)}),f[j][m]=n,g[j][m]=0,h[j][m]=n,i[j][m]=0,c[j].style[m]=n)}}e.setState({currentStyles:f,currentVelocities:g,mergedPropsStyles:c,lastIdealStyles:h,lastIdealVelocities:i})},this.startAnimationIfNecessary=function(){e.unmounting||(e.animationID=l.default(function(a){if(!e.unmounting){var b=e.props.styles,c="function"==typeof b?b(q(e.state.mergedPropsStyles,e.unreadPropStyles,e.state.lastIdealStyles)):b;if((function(a,b,c,d){if(d.length!==b.length)return!1;for(var e=0;e<d.length;e++)if(d[e].key!==b[e].key)return!1;for(var e=0;e<d.length;e++)if(!m.default(a[e],b[e].style,c[e]))return!1;return!0})(e.state.currentStyles,c,e.state.currentVelocities,e.state.mergedPropsStyles)){e.animationID=null,e.accumulatedTime=0;return}var d=a||k.default(),f=d-e.prevTime;if(e.prevTime=d,e.accumulatedTime=e.accumulatedTime+f,e.accumulatedTime>10*p&&(e.accumulatedTime=0),0===e.accumulatedTime){e.animationID=null,e.startAnimationIfNecessary();return}for(var g=(e.accumulatedTime-Math.floor(e.accumulatedTime/p)*p)/p,h=Math.floor(e.accumulatedTime/p),j=r(e.props.willEnter,e.props.willLeave,e.props.didLeave,e.state.mergedPropsStyles,c,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities),l=j[0],n=j[1],o=j[2],s=j[3],t=j[4],u=0;u<l.length;u++){var v=l[u].style,w={},x={},y={},z={};for(var A in v)if(Object.prototype.hasOwnProperty.call(v,A)){var B=v[A];if("number"==typeof B)w[A]=B,x[A]=0,y[A]=B,z[A]=0;else{for(var C=s[u][A],D=t[u][A],E=0;E<h;E++){var F=i.default(p/1e3,C,D,B.val,B.stiffness,B.damping,B.precision);C=F[0],D=F[1]}var G=i.default(p/1e3,C,D,B.val,B.stiffness,B.damping,B.precision),H=G[0],I=G[1];w[A]=C+(H-C)*g,x[A]=D+(I-D)*g,y[A]=C,z[A]=D}}s[u]=y,t[u]=z,n[u]=w,o[u]=x}e.animationID=null,e.accumulatedTime-=h*p,e.setState({currentStyles:n,currentVelocities:o,lastIdealStyles:s,lastIdealVelocities:t,mergedPropsStyles:l}),e.unreadPropStyles=null,e.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,a),e(b,null,[{key:"propTypes",value:{defaultStyles:o.default.arrayOf(o.default.shape({key:o.default.string.isRequired,data:o.default.any,style:o.default.objectOf(o.default.number).isRequired})),styles:o.default.oneOfType([o.default.func,o.default.arrayOf(o.default.shape({key:o.default.string.isRequired,data:o.default.any,style:o.default.objectOf(o.default.oneOfType([o.default.number,o.default.object])).isRequired}))]).isRequired,children:o.default.func.isRequired,willEnter:o.default.func,willLeave:o.default.func,didLeave:o.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(a){return h.default(a.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),b.prototype.defaultState=function(){var a=this.props,b=a.defaultStyles,c=a.styles,d=a.willEnter,e=a.willLeave,f=a.didLeave,i="function"==typeof c?c(b):c,j=void 0;j=null==b?i:b.map(function(a){for(var b=0;b<i.length;b++)if(i[b].key===a.key)return i[b];return a});var k=null==b?i.map(function(a){return h.default(a.style)}):b.map(function(a){return h.default(a.style)}),l=null==b?i.map(function(a){return g.default(a.style)}):b.map(function(a){return g.default(a.style)}),m=r(d,e,f,j,i,k,l,k,l),n=m[0],o=m[1],p=m[2],q=m[3],s=m[4];return{currentStyles:o,currentVelocities:p,lastIdealStyles:q,lastIdealVelocities:s,mergedPropsStyles:n}},b.prototype.componentDidMount=function(){this.prevTime=k.default(),this.startAnimationIfNecessary()},b.prototype.componentWillReceiveProps=function(a){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var b=a.styles;"function"==typeof b?this.unreadPropStyles=b(q(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):this.unreadPropStyles=b,null==this.animationID&&(this.prevTime=k.default(),this.startAnimationIfNecessary())},b.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(l.default.cancel(this.animationID),this.animationID=null)},b.prototype.render=function(){var a=q(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),b=this.props.children(a);return b&&n.default.Children.only(b)},b}(n.default.Component);b.default=s,a.exports=b.default},4846:function(a,b){"use strict";b.__esModule=!0,b.default=function(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=0);return b},a.exports=b.default},8505:function(a,b){"use strict";b.__esModule=!0,b.default=function(a,b,c){for(var d={},e=0;e<a.length;e++)d[a[e].key]=e;for(var f={},e=0;e<b.length;e++)f[b[e].key]=e;for(var g=[],e=0;e<b.length;e++)g[e]=b[e];for(var e=0;e<a.length;e++)if(!Object.prototype.hasOwnProperty.call(f,a[e].key)){var h=c(e,a[e]);null!=h&&g.push(h)}return g.sort(function(a,c){var e=f[a.key],g=f[c.key],h=d[a.key],i=d[c.key];if(null!=e&&null!=g)return f[a.key]-f[c.key];if(null!=h&&null!=i)return d[a.key]-d[c.key];if(null!=e){for(var j=0;j<b.length;j++){var k=b[j].key;if(Object.prototype.hasOwnProperty.call(d,k)){if(e<f[k]&&i>d[k])return -1;if(e>f[k]&&i<d[k])return 1}}return 1}for(var j=0;j<b.length;j++){var k=b[j].key;if(Object.prototype.hasOwnProperty.call(d,k)){if(g<f[k]&&h>d[k])return 1;if(g>f[k]&&h<d[k])return -1}}return -1})},a.exports=b.default},6e3:function(a,b){"use strict";b.__esModule=!0,b.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},a.exports=b.default},7727:function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a.default:a}var e=c(9144);b.y_=d(e),d(c(6506)),d(c(921));var f=c(124);b.ST=d(f),d(c(6e3)),d(c(9483)),d(c(9566))},9566:function(a,b){"use strict";b.__esModule=!0,b.default=function(){},a.exports=b.default},7739:function(a,b){"use strict";b.__esModule=!0,b.default=function(a,b,c){for(var d in b)if(Object.prototype.hasOwnProperty.call(b,d)){if(0!==c[d])return!1;var e="number"==typeof b[d]?b[d]:b[d].val;if(a[d]!==e)return!1}return!0},a.exports=b.default},124:function(a,b,c){"use strict";b.__esModule=!0;var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};b.default=function(a,b){return d({},f,b,{val:a})};var e,f=d({},((e=c(6e3))&&e.__esModule?e:{"default":e}).default.noWobble,{precision:.01});a.exports=b.default},2835:function(a,b){"use strict";b.__esModule=!0,b.default=function(a,b,d,e,f,g,h){var i=d+(-f*(b-e)+ -g*d)*a,j=b+i*a;return Math.abs(i)<h&&Math.abs(j-e)<h?(c[0]=e,c[1]=0,c):(c[0]=j,c[1]=i,c)};var c=[0,0];a.exports=b.default},9483:function(a,b){"use strict";b.__esModule=!0,b.default=function(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]="number"==typeof a[c]?a[c]:a[c].val);return b},a.exports=b.default},4207:function(a,b,c){var d=c(3454);!function(){"use strict";var b={583:function(a){a.exports=function(a){for(var b=5381,c=a.length;c;)b=33*b^a.charCodeAt(--c);return b>>>0}},590:function(a,b,c){b.__esModule=!0,b.computeId=function(a,b){if(!b)return"jsx-"+a;var c=String(b),d=a+c;return f[d]||(f[d]="jsx-"+(0,e.default)(a+"-"+c)),f[d]},b.computeSelector=function(a,b){"undefined"==typeof window&&(b=b.replace(/\/style/gi,"\\/style"));var c=a+b;return f[c]||(f[c]=b.replace(/__jsx-style-dynamic-selector/g,a)),f[c]};var d,e=(d=c(583))&&d.__esModule?d:{"default":d},f={}},503:function(a,b){function c(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}b.__esModule=!0,b.default=void 0;var e=void 0!==d&&d.env&&!0,f=function(a){return"[object String]"===Object.prototype.toString.call(a)},g=function(){function a(a){var b=void 0===a?{}:a,c=b.name,d=void 0===c?"stylesheet":c,g=b.optimizeForSpeed,i=void 0===g?e:g,j=b.isBrowser;h(f(d),"`name` must be a string"),this._name=d,this._deletedRulePlaceholder="#"+d+"-deleted-rule____{}",h("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._isBrowser=void 0===j?"undefined"!=typeof window:j,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var k=this._isBrowser&&document.querySelector("meta[property=\"csp-nonce\"]");this._nonce=k?k.getAttribute("content"):null}var b,d,g,i=a.prototype;return i.setOptimizeForSpeed=function(a){h("boolean"==typeof a,"`setOptimizeForSpeed` accepts a boolean"),h(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=a,this.inject()},i.isOptimizeForSpeed=function(){return this._optimizeForSpeed},i.inject=function(){var a=this;if(h(!this._injected,"sheet already injected"),this._injected=!0,this._isBrowser&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(e||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(b,c){return"number"==typeof c?a._serverSheet.cssRules[c]={cssText:b}:a._serverSheet.cssRules.push({cssText:b}),c},deleteRule:function(b){a._serverSheet.cssRules[b]=null}}},i.getSheetForTag=function(a){if(a.sheet)return a.sheet;for(var b=0;b<document.styleSheets.length;b++)if(document.styleSheets[b].ownerNode===a)return document.styleSheets[b]},i.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},i.insertRule=function(a,b){if(h(f(a),"`insertRule` accepts only strings"),!this._isBrowser)return"number"!=typeof b&&(b=this._serverSheet.cssRules.length),this._serverSheet.insertRule(a,b),this._rulesCount++;if(this._optimizeForSpeed){var c=this.getSheet();"number"!=typeof b&&(b=c.cssRules.length);try{c.insertRule(a,b)}catch(d){return e||console.warn("StyleSheet: illegal rule: \n\n"+a+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var g=this._tags[b];this._tags.push(this.makeStyleTag(this._name,a,g))}return this._rulesCount++},i.replaceRule=function(a,b){if(this._optimizeForSpeed||!this._isBrowser){var c=this._isBrowser?this.getSheet():this._serverSheet;if(b.trim()||(b=this._deletedRulePlaceholder),!c.cssRules[a])return a;c.deleteRule(a);try{c.insertRule(b,a)}catch(d){e||console.warn("StyleSheet: illegal rule: \n\n"+b+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),c.insertRule(this._deletedRulePlaceholder,a)}}else{var f=this._tags[a];h(f,"old rule at index `"+a+"` not found"),f.textContent=b}return a},i.deleteRule=function(a){if(!this._isBrowser){this._serverSheet.deleteRule(a);return}if(this._optimizeForSpeed)this.replaceRule(a,"");else{var b=this._tags[a];h(b,"rule at index `"+a+"` not found"),b.parentNode.removeChild(b),this._tags[a]=null}},i.flush=function(){this._injected=!1,this._rulesCount=0,this._isBrowser?(this._tags.forEach(function(a){return a&&a.parentNode.removeChild(a)}),this._tags=[]):this._serverSheet.cssRules=[]},i.cssRules=function(){var a=this;return this._isBrowser?this._tags.reduce(function(b,c){return c?b=b.concat(Array.prototype.map.call(a.getSheetForTag(c).cssRules,function(b){return b.cssText===a._deletedRulePlaceholder?null:b})):b.push(null),b},[]):this._serverSheet.cssRules},i.makeStyleTag=function(a,b,c){b&&h(f(b),"makeStyleTag accepts only strings as second parameter");var d=document.createElement("style");this._nonce&&d.setAttribute("nonce",this._nonce),d.type="text/css",d.setAttribute("data-"+a,""),b&&d.appendChild(document.createTextNode(b));var e=document.head||document.getElementsByTagName("head")[0];return c?e.insertBefore(d,c):e.appendChild(d),d},d=[{key:"length",get:function(){return this._rulesCount}}],c((b=a).prototype,d),g&&c(b,g),a}();function h(a,b){if(!a)throw new Error("StyleSheet: "+b+".")}b.default=g},449:function(a,b,c){b.__esModule=!0,b.default=j;var d,e=(d=c(522))&&d.__esModule?d:{"default":d},f=c(147),g=c(590),h=e.default.useInsertionEffect||e.default.useLayoutEffect,i="undefined"!=typeof window?(0,f.createStyleRegistry)():void 0;function j(a){var b=i||(0,f.useStyleRegistry)();return b?"undefined"==typeof window?(b.add(a),null):(h(function(){return b.add(a),function(){b.remove(a)}},[a.id,String(a.dynamic)]),null):null}j.dynamic=function(a){return a.map(function(a){var b=a[0],c=a[1];return(0,g.computeId)(b,c)}).join(" ")}},147:function(a,b,c){b.__esModule=!0,b.createStyleRegistry=l,b.StyleRegistry=function(a){var b=a.registry,c=a.children,d=(0,e.useContext)(k),f=(0,e.useState)(function(){return d||b||l()})[0];return e.default.createElement(k.Provider,{value:f},c)},b.useStyleRegistry=function(){return(0,e.useContext)(k)},b.StyleSheetContext=b.StyleSheetRegistry=void 0;var d,e=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{"default":a};var b=h();if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}return c.default=a,b&&b.set(a,c),c}(c(522)),f=(d=c(503))&&d.__esModule?d:{"default":d},g=c(590);function h(){if("function"!=typeof WeakMap)return null;var a=new WeakMap();return h=function(){return a},a}var i=function(){function a(a){var b=void 0===a?{}:a,c=b.styleSheet,d=void 0===c?null:c,e=b.optimizeForSpeed,g=void 0!==e&&e,h=b.isBrowser;this._sheet=d||new f.default({name:"styled-jsx",optimizeForSpeed:g}),this._sheet.inject(),d&&"boolean"==typeof g&&(this._sheet.setOptimizeForSpeed(g),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser=void 0===h?"undefined"!=typeof window:h,this._fromServer=void 0,this._indices={},this._instancesCounts={}}var b=a.prototype;return b.add=function(a){var b=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(a.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(a,b){return a[b]=0,a},{}));var c=this.getIdAndRules(a),d=c.styleId,e=c.rules;if(d in this._instancesCounts){this._instancesCounts[d]+=1;return}var f=e.map(function(a){return b._sheet.insertRule(a)}).filter(function(a){return -1!==a});this._indices[d]=f,this._instancesCounts[d]=1},b.remove=function(a){var b=this,c=this.getIdAndRules(a).styleId;if(j(c in this._instancesCounts,"styleId: `"+c+"` not found"),this._instancesCounts[c]-=1,this._instancesCounts[c]<1){var d=this._fromServer&&this._fromServer[c];d?(d.parentNode.removeChild(d),delete this._fromServer[c]):(this._indices[c].forEach(function(a){return b._sheet.deleteRule(a)}),delete this._indices[c]),delete this._instancesCounts[c]}},b.update=function(a,b){this.add(b),this.remove(a)},b.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},b.cssRules=function(){var a=this,b=this._fromServer?Object.keys(this._fromServer).map(function(b){return[b,a._fromServer[b]]}):[],c=this._sheet.cssRules();return b.concat(Object.keys(this._indices).map(function(b){return[b,a._indices[b].map(function(a){return c[a].cssText}).join(a._optimizeForSpeed?"":"\n")]}).filter(function(a){return Boolean(a[1])}))},b.styles=function(a){var b,c;return b=this.cssRules(),void 0===(c=a)&&(c={}),b.map(function(a){var b=a[0],d=a[1];return e.default.createElement("style",{id:"__"+b,key:"__"+b,nonce:c.nonce?c.nonce:void 0,dangerouslySetInnerHTML:{__html:d}})})},b.getIdAndRules=function(a){var b=a.children,c=a.dynamic,d=a.id;if(c){var e=(0,g.computeId)(d,c);return{styleId:e,rules:Array.isArray(b)?b.map(function(a){return(0,g.computeSelector)(e,a)}):[(0,g.computeSelector)(e,b)]}}return{styleId:(0,g.computeId)(d),rules:Array.isArray(b)?b:[b]}},b.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll("[id^=\"__jsx-\"]")).reduce(function(a,b){return a[b.id.slice(2)]=b,a},{})},a}();function j(a,b){if(!a)throw new Error("StyleSheetRegistry: "+b+".")}b.StyleSheetRegistry=i;var k=(0,e.createContext)(null);function l(){return new i()}b.StyleSheetContext=k},522:function(a){a.exports=c(7294)}},e={};function f(a){var c=e[a];if(void 0!==c)return c.exports;var d=e[a]={exports:{}},g=!0;try{b[a](d,d.exports,f),g=!1}finally{g&&delete e[a]}return d.exports}f.ab="//";var g,h,i,j,k={};(g=k).__esModule=!0,g.style=g.useStyleRegistry=g.createStyleRegistry=g.StyleRegistry=void 0,h=f(147),g.StyleRegistry=h.StyleRegistry,g.createStyleRegistry=h.createStyleRegistry,g.useStyleRegistry=h.useStyleRegistry,i=(j=f(449))&&j.__esModule?j:{"default":j},g.style=i.default,a.exports=k}()},5988:function(a,b,c){a.exports=c(4207).style},1172:function(){THREE.Mirror=function(a,b,c){THREE.Mesh.call(this,new THREE.PlaneBufferGeometry(a,b));var d=this;d.name="mirror_"+d.id,d.matrixNeedsUpdate=!0;var e=void 0!==(c=c||{}).textureWidth?c.textureWidth:512,f=void 0!==c.textureHeight?c.textureHeight:512,g=void 0!==c.clipBias?c.clipBias:0,h=new THREE.Color(void 0!==c.color?c.color:8355711),i=new THREE.Plane(),j=new THREE.Vector3(),k=new THREE.Vector3(),l=new THREE.Vector3(),m=new THREE.Matrix4(),n=new THREE.Vector3(0,0,-1),o=new THREE.Vector4(),p=new THREE.Matrix4(),q=new THREE.PerspectiveCamera();q.matrixAutoUpdate=!0;var r={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1},s=new THREE.WebGLRenderTarget(e,f,r);THREE.Math.isPowerOfTwo(e)&&THREE.Math.isPowerOfTwo(f)||(s.texture.generateMipmaps=!1);var t={uniforms:{mirrorColor:{value:new THREE.Color(8355711)},mirrorSampler:{value:null},textureMatrix:{value:new THREE.Matrix4()}},vertexShader:"uniform mat4 textureMatrix;\nvarying vec4 mirrorCoord;\nvoid main() {\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\tmirrorCoord = textureMatrix * worldPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n}",fragmentShader:"uniform vec3 mirrorColor;\nuniform sampler2D mirrorSampler;\nvarying vec4 mirrorCoord;\nfloat blendOverlay(float base, float blend) {\n\treturn( base < 0.5 ? ( 2.0 * base * blend ) : (1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n}\nvoid main() {\n\tvec4 color = texture2DProj(mirrorSampler, mirrorCoord);\n\tcolor = vec4(blendOverlay(mirrorColor.r, color.r), blendOverlay(mirrorColor.g, color.g), blendOverlay(mirrorColor.b, color.b), 1.0);\n\tgl_FragColor = color;\n}"},u=THREE.UniformsUtils.clone(t.uniforms),v=new THREE.ShaderMaterial({fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:u});v.uniforms.mirrorSampler.value=s.texture,v.uniforms.mirrorColor.value=h,v.uniforms.textureMatrix.value=p,d.material=v,d.onBeforeRender=function(a,b,c){(e=c).updateMatrixWorld(),q.copy(e),q.updateProjectionMatrix(),d.updateMatrixWorld(),k.setFromMatrixPosition(d.matrixWorld),l.setFromMatrixPosition(e.matrixWorld),m.extractRotation(d.matrixWorld),j.set(0,0,1),j.applyMatrix4(m),(f=k.clone().sub(l)).reflect(j).negate(),f.add(k),m.extractRotation(e.matrixWorld),n.set(0,0,-1),n.applyMatrix4(m),n.add(l),(h=k.clone().sub(n)).reflect(j).negate(),h.add(k),q.position.copy(f),q.up.set(0,-1,0),q.up.applyMatrix4(m),q.up.reflect(j).negate(),q.lookAt(h),q.updateProjectionMatrix(),q.updateMatrixWorld(),q.matrixWorldInverse.getInverse(q.matrixWorld),p.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),p.multiply(q.projectionMatrix),p.multiply(q.matrixWorldInverse),i.setFromNormalAndCoplanarPoint(j,k),i.applyMatrix4(q.matrixWorldInverse),o.set(i.normal.x,i.normal.y,i.normal.z,i.constant),r=new THREE.Vector4(),t=q.projectionMatrix,r.x=(Math.sign(o.x)+t.elements[8])/t.elements[0],r.y=(Math.sign(o.y)+t.elements[9])/t.elements[5],r.z=-1,r.w=(1+t.elements[10])/t.elements[14],u=new THREE.Vector4(),u=o.multiplyScalar(2/o.dot(r)),t.elements[2]=u.x,t.elements[6]=u.y,t.elements[10]=u.z+1-g,t.elements[14]=u.w,d.visible=!1;var e,f,h,r,t,u,v=a.getRenderTarget();a.render(b,q,s,!0),a.setRenderTarget(v),d.visible=!0}},THREE.Mirror.prototype=Object.create(THREE.Mesh.prototype)},5560:function(){THREE.DeviceOrientationControls=function(a){var b=this;this.object=a,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alpha=0,this.alphaOffsetAngle=0;var c,d,e,f,g=function(a){b.deviceOrientation=a},h=function(){b.screenOrientation=window.orientation||0},i=(c=new THREE.Vector3(0,0,1),d=new THREE.Euler(),e=new THREE.Quaternion(),f=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),function(a,b,g,h,i){d.set(g,b,-h,"YXZ"),a.setFromEuler(d),a.multiply(f),a.multiply(e.setFromAxisAngle(c,-i))});this.connect=function(){h(),window.addEventListener("orientationchange",h,!1),window.addEventListener("deviceorientation",g,!1),b.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",h,!1),window.removeEventListener("deviceorientation",g,!1),b.enabled=!1},this.update=function(){if(!1!==b.enabled){var a=b.deviceOrientation.alpha?THREE.Math.degToRad(b.deviceOrientation.alpha)+this.alphaOffsetAngle:0,c=b.deviceOrientation.beta?THREE.Math.degToRad(b.deviceOrientation.beta):0,d=b.deviceOrientation.gamma?THREE.Math.degToRad(b.deviceOrientation.gamma):0,e=b.screenOrientation?THREE.Math.degToRad(b.screenOrientation):0;i(b.object.quaternion,a,c,d,e),this.alpha=a}},this.updateAlphaOffsetAngle=function(a){this.alphaOffsetAngle=a,this.update()},this.dispose=function(){this.disconnect()},this.connect()}},4942:function(){THREE.OrbitControls=function(a,b){this.object=a,this.domElement=void 0!==b?b:document,this.enabled=!0,this.target=new THREE.Vector3(),this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return j.phi},this.getAzimuthalAngle=function(){return j.theta},this.saveState=function(){c.target0.copy(c.target),c.position0.copy(c.object.position),c.zoom0=c.object.zoom},this.reset=function(){c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.dispatchEvent(d),c.update(),h=g.NONE},B=new THREE.Vector3(),C=new THREE.Quaternion().setFromUnitVectors(a.up,new THREE.Vector3(0,1,0)),D=C.clone().inverse(),E=new THREE.Vector3(),F=new THREE.Quaternion(),this.update=function(){var a=c.object.position;return B.copy(a).sub(c.target),B.applyQuaternion(C),j.setFromVector3(B),c.autoRotate&&h===g.NONE&&z(x()),j.theta+=k.theta,j.phi+=k.phi,j.theta=Math.max(c.minAzimuthAngle,Math.min(c.maxAzimuthAngle,j.theta)),j.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,j.phi)),j.makeSafe(),j.radius*=l,j.radius=Math.max(c.minDistance,Math.min(c.maxDistance,j.radius)),c.target.add(m),B.setFromSpherical(j),B.applyQuaternion(D),a.copy(c.target).add(B),c.object.lookAt(c.target),!0===c.enableDamping?(k.theta*=1-c.dampingFactor,k.phi*=1-c.dampingFactor):k.set(0,0,0),l=1,m.set(0,0,0),!!(n||E.distanceToSquared(c.object.position)>i||8*(1-F.dot(c.object.quaternion))>i)&&(c.dispatchEvent(d),E.copy(c.object.position),F.copy(c.object.quaternion),n=!1,!0)},this.dispose=function(){c.domElement.removeEventListener("contextmenu",W,!1),c.domElement.removeEventListener("mousedown",O,!1),c.domElement.removeEventListener("wheel",R,!1),c.domElement.removeEventListener("touchstart",T,!1),c.domElement.removeEventListener("touchend",V,!1),c.domElement.removeEventListener("touchmove",U,!1),document.removeEventListener("mousemove",P,!1),document.removeEventListener("mouseup",Q,!1),window.removeEventListener("keydown",S,!1)};var c=this,d={type:"change"},e={type:"start"},f={type:"end"},g={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},h=g.NONE,i=1e-6,j=new THREE.Spherical(),k=new THREE.Spherical(),l=1,m=new THREE.Vector3(),n=!1,o=new THREE.Vector2(),p=new THREE.Vector2(),q=new THREE.Vector2(),r=new THREE.Vector2(),s=new THREE.Vector2(),t=new THREE.Vector2(),u=new THREE.Vector2(),v=new THREE.Vector2(),w=new THREE.Vector2();function x(){return 2*Math.PI/60/60*c.autoRotateSpeed}function y(){return Math.pow(.95,c.zoomSpeed)}function z(a){k.theta-=a}function A(a){k.phi-=a}var B,C,D,E,F,G,H,I,J=(G=new THREE.Vector3(),function(a,b){G.setFromMatrixColumn(b,0),G.multiplyScalar(-a),m.add(G)}),K=(H=new THREE.Vector3(),function(a,b){H.setFromMatrixColumn(b,1),H.multiplyScalar(a),m.add(H)}),L=(I=new THREE.Vector3(),function(a,b){var d=c.domElement===document?c.domElement.body:c.domElement;if(c.object instanceof THREE.PerspectiveCamera){var e=c.object.position;I.copy(e).sub(c.target);var f=I.length();J(2*a*(f*=Math.tan(c.object.fov/2*Math.PI/180))/d.clientHeight,c.object.matrix),K(2*b*f/d.clientHeight,c.object.matrix)}else c.object instanceof THREE.OrthographicCamera?(J(a*(c.object.right-c.object.left)/c.object.zoom/d.clientWidth,c.object.matrix),K(b*(c.object.top-c.object.bottom)/c.object.zoom/d.clientHeight,c.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),c.enablePan=!1)});function M(a){c.object instanceof THREE.PerspectiveCamera?l/=a:c.object instanceof THREE.OrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom*a)),c.object.updateProjectionMatrix(),n=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function N(a){c.object instanceof THREE.PerspectiveCamera?l*=a:c.object instanceof THREE.OrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/a)),c.object.updateProjectionMatrix(),n=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function O(a){if(!1!==c.enabled){var b,d,f;switch(a.preventDefault(),a.button){case c.mouseButtons.ORBIT:if(!1===c.enableRotate)return;b=a,o.set(b.clientX,b.clientY),h=g.ROTATE;break;case c.mouseButtons.ZOOM:if(!1===c.enableZoom)return;d=a,u.set(d.clientX,d.clientY),h=g.DOLLY;break;case c.mouseButtons.PAN:if(!1===c.enablePan)return;f=a,r.set(f.clientX,f.clientY),h=g.PAN;break}h!==g.NONE&&(document.addEventListener("mousemove",P,!1),document.addEventListener("mouseup",Q,!1),c.dispatchEvent(e))}}function P(a){var b,d,e,f;if(!1!==c.enabled)switch(a.preventDefault(),h){case g.ROTATE:if(!1===c.enableRotate)return;b=a,p.set(b.clientX,b.clientY),q.subVectors(p,o),d=c.domElement===document?c.domElement.body:c.domElement,z(2*Math.PI*q.x/d.clientWidth*c.rotateSpeed),A(2*Math.PI*q.y/d.clientHeight*c.rotateSpeed),o.copy(p),c.update();break;case g.DOLLY:if(!1===c.enableZoom)return;e=a,v.set(e.clientX,e.clientY),w.subVectors(v,u),w.y>0?M(y()):w.y<0&&N(y()),u.copy(v),c.update();break;case g.PAN:if(!1===c.enablePan)return;f=a,s.set(f.clientX,f.clientY),t.subVectors(s,r),L(t.x,t.y),r.copy(s),c.update();break}}function Q(a){!1!==c.enabled&&(document.removeEventListener("mousemove",P,!1),document.removeEventListener("mouseup",Q,!1),c.dispatchEvent(f),h=g.NONE)}function R(a){if(!1!==c.enabled&& !1!==c.enableZoom&&(h===g.NONE||h===g.ROTATE)){var b;a.preventDefault(),a.stopPropagation(),(b=a).deltaY<0?N(y()):b.deltaY>0&&M(y()),c.update(),c.dispatchEvent(e),c.dispatchEvent(f)}}function S(a){!1!==c.enabled&& !1!==c.enableKeys&& !1!==c.enablePan&&(function(a){switch(a.keyCode){case c.keys.UP:L(0,c.keyPanSpeed),c.update();break;case c.keys.BOTTOM:L(0,-c.keyPanSpeed),c.update();break;case c.keys.LEFT:L(c.keyPanSpeed,0),c.update();break;case c.keys.RIGHT:L(-c.keyPanSpeed,0),c.update();break}})(a)}function T(a){if(!1!==c.enabled){var b,d,f,i,j;switch(a.touches.length){case 1:if(!1===c.enableRotate)return;b=a,o.set(b.touches[0].pageX,b.touches[0].pageY),h=g.TOUCH_ROTATE;break;case 2:if(!1===c.enableZoom)return;f=(d=a).touches[0].pageX-d.touches[1].pageX,i=d.touches[0].pageY-d.touches[1].pageY,u.set(0,Math.sqrt(f*f+i*i)),h=g.TOUCH_DOLLY;break;case 3:if(!1===c.enablePan)return;j=a,r.set(j.touches[0].pageX,j.touches[0].pageY),h=g.TOUCH_PAN;break;default:h=g.NONE}h!==g.NONE&&c.dispatchEvent(e)}}function U(a){var b,d,e,f,i,j;if(!1!==c.enabled)switch(a.preventDefault(),a.stopPropagation(),a.touches.length){case 1:if(!1===c.enableRotate)return;if(h!==g.TOUCH_ROTATE)return;b=a,p.set(b.touches[0].pageX,b.touches[0].pageY),q.subVectors(p,o),d=c.domElement===document?c.domElement.body:c.domElement,z(2*Math.PI*q.x/d.clientWidth*c.rotateSpeed),A(2*Math.PI*q.y/d.clientHeight*c.rotateSpeed),o.copy(p),c.update();break;case 2:if(!1===c.enableZoom)return;if(h!==g.TOUCH_DOLLY)return;f=(e=a).touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY,v.set(0,Math.sqrt(f*f+i*i)),w.subVectors(v,u),w.y>0?N(y()):w.y<0&&M(y()),u.copy(v),c.update();break;case 3:if(!1===c.enablePan)return;if(h!==g.TOUCH_PAN)return;j=a,s.set(j.touches[0].pageX,j.touches[0].pageY),t.subVectors(s,r),L(t.x,t.y),r.copy(s),c.update();break;default:h=g.NONE}}function V(a){!1!==c.enabled&&(c.dispatchEvent(f),h=g.NONE)}function W(a){a.preventDefault()}c.domElement.addEventListener("contextmenu",W,!1),c.domElement.addEventListener("mousedown",O,!1),c.domElement.addEventListener("wheel",R,!1),c.domElement.addEventListener("touchstart",T,!1),c.domElement.addEventListener("touchend",V,!1),c.domElement.addEventListener("touchmove",U,!1),window.addEventListener("keydown",S,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(a){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!a}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(a){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!a}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(a){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!a}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(a){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!a}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(a){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!a}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(a){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=a}}})},5861:function(){THREE.VREffect=function(a,b){var c,d,e,f,g=new THREE.Vector3(),h=new THREE.Vector3(),i=null;"VRFrameData"in window&&(i=new window.VRFrameData()),navigator.getVRDisplays&&navigator.getVRDisplays().then(function(a){d=a,a.length>0?c=a[0]:b&&b("HMD not available")}).catch(function(){console.warn("THREE.VREffect: Unable to get VR Displays")}),this.isPresenting=!1;var j=this,k=a.getSize(),l=!1,m=a.getPixelRatio();this.getVRDisplay=function(){return c},this.setVRDisplay=function(a){c=a},this.getVRDisplays=function(){return console.warn("THREE.VREffect: getVRDisplays() is being deprecated."),d},this.setSize=function(b,d,e){if(k={width:b,height:d},l=e,j.isPresenting){var f=c.getEyeParameters("left");a.setPixelRatio(1),a.setSize(2*f.renderWidth,f.renderHeight,!1)}else a.setPixelRatio(m),a.setSize(b,d,e)};var n=a.domElement,o=[0,0,.5,1],p=[.5,0,.5,1];function q(){var b=j.isPresenting;if(j.isPresenting=void 0!==c&&c.isPresenting,j.isPresenting){var d=c.getEyeParameters("left"),e=d.renderWidth,f=d.renderHeight;b||(m=a.getPixelRatio(),k=a.getSize(),a.setPixelRatio(1),a.setSize(2*e,f,!1))}else b&&(a.setPixelRatio(m),a.setSize(k.width,k.height,l))}window.addEventListener("vrdisplaypresentchange",q,!1),this.setFullScreen=function(a){return new Promise(function(b,d){if(void 0===c){d(new Error("No VR hardware found."));return}if(j.isPresenting===a){b();return}b(a?c.requestPresent([{source:n}]):c.exitPresent())})},this.requestPresent=function(){return this.setFullScreen(!0)},this.exitPresent=function(){return this.setFullScreen(!1)},this.requestAnimationFrame=function(a){return void 0!==c?c.requestAnimationFrame(a):window.requestAnimationFrame(a)},this.cancelAnimationFrame=function(a){void 0!==c?c.cancelAnimationFrame(a):window.cancelAnimationFrame(a)},this.submitFrame=function(){void 0!==c&&j.isPresenting&&c.submitFrame()},this.autoSubmitFrame=!0;var r=new THREE.PerspectiveCamera();r.layers.enable(1);var s=new THREE.PerspectiveCamera();function t(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r=Math.PI/180;return e={upTan:Math.tan(a.upDegrees*r),downTan:Math.tan(a.downDegrees*r),leftTan:Math.tan(a.leftDegrees*r),rightTan:Math.tan(a.rightDegrees*r)},f=b,g=void 0===(g=c)?.01:g,h=void 0===(h=d)?1e4:h,i=(f=void 0===f||f)?-1:1,k=(j=new THREE.Matrix4()).elements,m=2/((l=e).leftTan+l.rightTan),n=(l.leftTan-l.rightTan)*m*.5,o=2/(l.upTan+l.downTan),p=(l.upTan-l.downTan)*o*.5,q={scale:[m,o],offset:[n,p]},k[0]=q.scale[0],k[1]=0,k[2]=q.offset[0]*i,k[3]=0,k[4]=0,k[5]=q.scale[1],k[6]=-q.offset[1]*i,k[7]=0,k[8]=0,k[9]=0,k[10]=-(h/(g-h)*i),k[11]=h*g/(g-h),k[12]=0,k[13]=0,k[14]=i,k[15]=0,j.transpose(),j}s.layers.enable(2),this.render=function(b,d,k,l){if(c&&j.isPresenting){var m,n,q=b.autoUpdate;q&&(b.updateMatrixWorld(),b.autoUpdate=!1);var u=c.getEyeParameters("left"),v=c.getEyeParameters("right");g.fromArray(u.offset),h.fromArray(v.offset),Array.isArray(b)&&(console.warn("THREE.VREffect.render() no longer supports arrays. Use object.layers instead."),b=b[0]);var w=a.getSize(),x=c.getLayers();if(x.length){var y=x[0];m=null!==y.leftBounds&&4===y.leftBounds.length?y.leftBounds:o,n=null!==y.rightBounds&&4===y.rightBounds.length?y.rightBounds:p}else m=o,n=p;e={x:Math.round(w.width*m[0]),y:Math.round(w.height*m[1]),width:Math.round(w.width*m[2]),height:Math.round(w.height*m[3])},f={x:Math.round(w.width*n[0]),y:Math.round(w.height*n[1]),width:Math.round(w.width*n[2]),height:Math.round(w.height*n[3])},k?(a.setRenderTarget(k),k.scissorTest=!0):(a.setRenderTarget(null),a.setScissorTest(!0)),(a.autoClear||l)&&a.clear(),null===d.parent&&d.updateMatrixWorld(),d.matrixWorld.decompose(r.position,r.quaternion,r.scale),s.position.copy(r.position),s.quaternion.copy(r.quaternion),s.scale.copy(r.scale),r.translateOnAxis(g,r.scale.x),s.translateOnAxis(h,s.scale.x),c.getFrameData?(c.depthNear=d.near,c.depthFar=d.far,c.getFrameData(i),r.projectionMatrix.elements=i.leftProjectionMatrix,s.projectionMatrix.elements=i.rightProjectionMatrix):(r.projectionMatrix=t(u.fieldOfView,!0,d.near,d.far),s.projectionMatrix=t(v.fieldOfView,!0,d.near,d.far)),k?(k.viewport.set(e.x,e.y,e.width,e.height),k.scissor.set(e.x,e.y,e.width,e.height)):(a.setViewport(e.x,e.y,e.width,e.height),a.setScissor(e.x,e.y,e.width,e.height)),a.render(b,r,k,l),k?(k.viewport.set(f.x,f.y,f.width,f.height),k.scissor.set(f.x,f.y,f.width,f.height)):(a.setViewport(f.x,f.y,f.width,f.height),a.setScissor(f.x,f.y,f.width,f.height)),a.render(b,s,k,l),k?(k.viewport.set(0,0,w.width,w.height),k.scissor.set(0,0,w.width,w.height),k.scissorTest=!1,a.setRenderTarget(null)):(a.setViewport(0,0,w.width,w.height),a.setScissorTest(!1)),q&&(b.autoUpdate=!0),j.autoSubmitFrame&&j.submitFrame();return}a.render(b,d,k,l)},this.dispose=function(){window.removeEventListener("vrdisplaypresentchange",q,!1)}}},6853:function(){THREE.ColladaLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager},THREE.ColladaLoader.prototype={constructor:THREE.ColladaLoader,load:function(a,b,c,d){var e=this;new THREE.FileLoader(e.manager).load(a,function(a){b(e.parse(a))},c,d)},options:{set convertUpAxis(value){console.log("ColladaLoder.options.convertUpAxis: TODO")}},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a){function b(a,b){for(var c=[],d=a.childNodes,e=0,f=d.length;e<f;e++){var g=d[e];g.nodeName===b&&c.push(g)}return c}function c(a){if(0===a.length)return[];for(var b=a.trim().split(/\s+/),c=new Array(b.length),d=0,e=b.length;d<e;d++)c[d]=parseFloat(b[d]);return c}function d(a){if(0===a.length)return[];for(var b=a.trim().split(/\s+/),c=new Array(b.length),d=0,e=b.length;d<e;d++)c[d]=parseInt(b[d]);return c}function e(a){return a.substring(1)}function f(a,c,d,e){var f=b(a,c)[0];if(void 0!==f)for(var g=b(f,d),h=0;h<g.length;h++)e(g[h])}function g(a,b){for(var c in a)a[c].build=b(a[c])}function h(a,b){return void 0!==a.build||(a.build=b(a)),a.build}function i(a){return void 0!==a.build?a.build:new Image()}function j(a){for(var b={surfaces:{},samplers:{}},c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];if(1===e.nodeType)switch(e.nodeName){case"newparam":k(e,b);break;case"technique":b.technique=n(e);break}}return b}function k(a,b){for(var c=a.getAttribute("sid"),d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];if(1===f.nodeType)switch(f.nodeName){case"surface":b.surfaces[c]=l(f);break;case"sampler2D":b.samplers[c]=m(f);break}}}function l(a){for(var b={},c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];if(1===e.nodeType)switch(e.nodeName){case"init_from":b.init_from=e.textContent;break}}return b}function m(a){for(var b={},c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];if(1===e.nodeType)switch(e.nodeName){case"source":b.source=e.textContent;break}}return b}function n(a){for(var b={},c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];if(1===e.nodeType)switch(e.nodeName){case"constant":case"lambert":case"blinn":case"phong":b.type=e.nodeName,b.parameters=o(e);break}}return b}function o(a){for(var b={},c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];if(1===e.nodeType)switch(e.nodeName){case"emission":case"diffuse":case"specular":case"shininess":case"transparent":case"transparency":b[e.nodeName]=p(e);break}}return b}function p(a){for(var b={},d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];if(1===f.nodeType)switch(f.nodeName){case"color":b[f.nodeName]=c(f.textContent);break;case"float":b[f.nodeName]=parseFloat(f.textContent);break;case"texture":b[f.nodeName]={id:f.getAttribute("texture"),extra:q(f)};break}}return b}function q(a){for(var b={},c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];if(1===e.nodeType)switch(e.nodeName){case"extra":b=r(e);break}}return b}function r(a){for(var b={},c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];if(1===e.nodeType)switch(e.nodeName){case"technique":b[e.nodeName]=s(e);break}}return b}function s(a){for(var b={},c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];if(1===e.nodeType)switch(e.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":b[e.nodeName]=parseFloat(e.textContent);break;case"wrapU":case"wrapV":b[e.nodeName]=parseInt(e.textContent);break}}return b}function t(a){return a}function u(a){var b,c,d=(b=a.url,h(_.effects[b],t)),e=d.profile.technique;switch(e.type){case"phong":case"blinn":c=new THREE.MeshPhongMaterial();break;case"lambert":c=new THREE.MeshLambertMaterial();break;default:c=new THREE.MeshBasicMaterial();break}function f(a){var b=d.profile.samplers[a.id];if(void 0!==b){var c,e=d.profile.surfaces[b.source],f=new THREE.Texture((c=e.init_from,h(_.images[c],i))),g=a.extra;if(void 0!==g&& void 0!==g.technique){var j=g.technique;f.wrapS=j.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,f.wrapT=j.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,f.offset.set(j.offsetU,j.offsetV),f.repeat.set(j.repeatU,j.repeatV)}else f.wrapS=THREE.RepeatWrapping,f.wrapT=THREE.RepeatWrapping;return f.needsUpdate=!0,f}return console.error("ColladaLoder: Undefined sampler",a.id),null}c.name=a.name;var g=e.parameters;for(var j in g){var k=g[j];switch(j){case"diffuse":k.color&&c.color.fromArray(k.color),k.texture&&(c.map=f(k.texture));break;case"specular":k.color&&c.specular&&c.specular.fromArray(k.color);break;case"shininess":k.float&&c.shininess&&(c.shininess=k.float);break;case"emission":k.color&&c.emissive&&c.emissive.fromArray(k.color);break;case"transparent":c.transparent=!0;break;case"transparency":void 0!==k.float&&(c.opacity=k.float),c.transparent=!0;break}}return c}function v(a){return h(_.materials[a],u)}function w(a){for(var b=0;b<a.childNodes.length;b++){var c=a.childNodes[b];switch(c.nodeName){case"technique_common":return x(c)}}return{}}function x(a){for(var b={},c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];switch(d.nodeName){case"perspective":case"orthographic":b.technique=d.nodeName,b.parameters=y(d);break}}return b}function y(a){for(var b={},c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];switch(d.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":b[d.nodeName]=parseFloat(d.textContent);break}}return b}function z(a){var b;switch(a.optics.technique){case"perspective":b=new THREE.PerspectiveCamera(a.optics.parameters.yfov,a.optics.parameters.aspect_ratio,a.optics.parameters.znear,a.optics.parameters.zfar);break;case"orthographic":b=new THREE.OrthographicCamera();break;default:b=new THREE.PerspectiveCamera();break}return b.name=a.name,b}function A(a){return h(_.cameras[a],z)}function B(a){for(var b={},c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];if(1===e.nodeType)switch(e.nodeName){case"directional":case"point":case"spot":case"ambient":b.technique=e.nodeName,b.parameters=C(e)}}return b}function C(a){for(var b={},d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];if(1===f.nodeType)switch(f.nodeName){case"color":var g=c(f.textContent);b.color=new THREE.Color().fromArray(g);break;case"falloff_angle":b.falloffAngle=parseFloat(f.textContent);break;case"quadratic_attenuation":var h=parseFloat(f.textContent);b.distance=h?Math.sqrt(1/h):0;break}}return b}function D(a){var b;switch(a.technique){case"directional":b=new THREE.DirectionalLight();break;case"point":b=new THREE.PointLight();break;case"spot":b=new THREE.SpotLight();break;case"ambient":b=new THREE.AmbientLight();break}return a.parameters.color&&b.color.copy(a.parameters.color),a.parameters.distance&&(b.distance=a.parameters.distance),b}function E(a){return h(_.lights[a],D)}function F(a){for(var d={array:[],stride:3},e=0;e<a.childNodes.length;e++){var f=a.childNodes[e];if(1===f.nodeType)switch(f.nodeName){case"float_array":d.array=c(f.textContent);break;case"technique_common":var g=b(f,"accessor")[0];void 0!==g&&(d.stride=parseInt(g.getAttribute("stride")));break;default:console.log(f)}}return d}function G(a){for(var b={},c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];1===d.nodeType&&(b[d.getAttribute("semantic")]=e(d.getAttribute("source")))}return b}function H(a){for(var b={type:a.nodeName,material:a.getAttribute("material"),inputs:{},stride:0},c=0,f=a.childNodes.length;c<f;c++){var g=a.childNodes[c];if(1===g.nodeType)switch(g.nodeName){case"input":var h=e(g.getAttribute("source")),i=g.getAttribute("semantic"),j=parseInt(g.getAttribute("offset"));b.inputs[i]={id:h,offset:j},b.stride=Math.max(b.stride,j+1);break;case"vcount":b.vcount=d(g.textContent);break;case"p":b.p=d(g.textContent);break}}return b}var I=new THREE.LineBasicMaterial(),J=new THREE.MeshPhongMaterial();function K(a){var b={},c=a.sources,d=a.vertices,e=a.primitives;if(0===e.length)return b;for(var f=0;f<e.length;f++){var g,h=e[f],i=h.inputs,j=new THREE.BufferGeometry();for(var k in a.name&&(j.name=a.name),i){var l=i[k];switch(k){case"VERTEX":for(var m in d)j.addAttribute(m.toLowerCase(),L(h,c[d[m]],l.offset));break;case"NORMAL":j.addAttribute("normal",L(h,c[l.id],l.offset));break;case"COLOR":j.addAttribute("color",L(h,c[l.id],l.offset));break;case"TEXCOORD":j.addAttribute("uv",L(h,c[l.id],l.offset));break}}switch(h.type){case"lines":g=new THREE.LineSegments(j,I);break;case"linestrips":g=new THREE.Line(j,I);break;case"triangles":case"polylist":g=new THREE.Mesh(j,J);break}b[h.material]=g}return b}function L(a,b,c){var d=a.p,e=a.stride,f=a.vcount;function g(a){for(var b=d[a+c]*j,e=b+j;b<e;b++)k.push(i[b])}var h=0,i=b.array,j=b.stride,k=[];if(void 0!==a.vcount){for(var l=0,m=0,n=f.length;m<n;m++){var o=f[m];if(4===o){var p=l+0*e,q=l+1*e,r=l+2*e,s=l+3*e;g(p),g(q),g(s),g(q),g(r),g(s)}else if(3===o){var p=l+0*e,q=l+1*e,r=l+2*e;g(p),g(q),g(r)}else h=Math.max(h,o);l+=e*o}h>0&&console.log("ColladaLoader: Geometry has faces with more than 4 vertices.")}else for(var m=0,n=d.length;m<n;m+=e)g(m);return new THREE.Float32BufferAttribute(k,j)}function M(a){return h(_.geometries[a],K)}var N=new THREE.Matrix4(),O=new THREE.Vector3();function P(a){for(var b={name:a.getAttribute("name"),matrix:new THREE.Matrix4(),nodes:[],instanceCameras:[],instanceLights:[],instanceGeometries:[],instanceNodes:[]},d=0;d<a.childNodes.length;d++){var f=a.childNodes[d];if(1===f.nodeType)switch(f.nodeName){case"node":f.hasAttribute("id")&&(b.nodes.push(f.getAttribute("id")),P(f));break;case"instance_camera":b.instanceCameras.push(e(f.getAttribute("url")));break;case"instance_light":b.instanceLights.push(e(f.getAttribute("url")));break;case"instance_geometry":b.instanceGeometries.push(Q(f));break;case"instance_node":b.instanceNodes.push(e(f.getAttribute("url")));break;case"matrix":var g=c(f.textContent);b.matrix.multiply(N.fromArray(g).transpose());break;case"translate":var g=c(f.textContent);O.fromArray(g),b.matrix.multiply(N.makeTranslation(O.x,O.y,O.z));break;case"rotate":var g=c(f.textContent),h=THREE.Math.degToRad(g[3]);b.matrix.multiply(N.makeRotationAxis(O.fromArray(g),h));break;case"scale":var g=c(f.textContent);b.matrix.scale(O.fromArray(g));break;case"extra":break;default:console.log(f)}}return a.hasAttribute("id")&&(_.nodes[a.getAttribute("id")]=b),b}function Q(a){for(var b={id:e(a.getAttribute("url")),materials:{}},c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];if("bind_material"===d.nodeName){for(var f=d.getElementsByTagName("instance_material"),g=0;g<f.length;g++){var h=f[g],i=h.getAttribute("symbol"),j=h.getAttribute("target");b.materials[i]=e(j)}break}}return b}function R(a){for(var b,c=[],d=a.matrix,e=a.nodes,f=a.instanceCameras,g=a.instanceLights,h=a.instanceGeometries,i=a.instanceNodes,j=0,k=e.length;j<k;j++)c.push(S(e[j]).clone());for(var j=0,k=f.length;j<k;j++)c.push(A(f[j]).clone());for(var j=0,k=g.length;j<k;j++)c.push(E(g[j]).clone());for(var j=0,k=h.length;j<k;j++){var l=h[j],m=M(l.id);for(var n in m){var b=m[n].clone();void 0!==l.materials[n]&&(b.material=v(l.materials[n])),c.push(b)}}for(var j=0,k=i.length;j<k;j++)c.push(S(i[j]).clone());if(0===e.length&&1===c.length)b=c[0];else{b=new THREE.Group();for(var j=0;j<c.length;j++)b.add(c[j])}return b.name=a.name,b.matrix.copy(d),b.matrix.decompose(b.position,b.quaternion,b.scale),b}function S(a){return h(_.nodes[a],R)}function T(a){var b=new THREE.Group();b.name=a.name;for(var c=a.children,d=0;d<c.length;d++)b.add(R(c[d]));return b}if(console.time("ColladaLoader"),0===a.length)return{scene:new THREE.Scene()};console.time("ColladaLoader: DOMParser");var U=new DOMParser().parseFromString(a,"application/xml");console.timeEnd("ColladaLoader: DOMParser");var V=b(U,"COLLADA")[0],W=V.getAttribute("version");console.log("ColladaLoader: File version",W);var X,Y,Z,$=(Z=b(V,"asset")[0],{unit:void 0!==(X=b(Z,"unit")[0])?parseFloat(X.getAttribute("meter")):1,upAxis:void 0!==(Y=b(Z,"up_axis")[0])?Y.textContent:"Y_UP"}),_={images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{}};console.time("ColladaLoader: Parse"),f(V,"library_images","image",function(a){var c={init_from:b(a,"init_from")[0].textContent};_.images[a.getAttribute("id")]=c}),f(V,"library_effects","effect",function(a){for(var b={},c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];if(1===e.nodeType)switch(e.nodeName){case"profile_COMMON":b.profile=j(e);break}}_.effects[a.getAttribute("id")]=b}),f(V,"library_materials","material",function(a){for(var b={name:a.getAttribute("name")},c=0,d=a.childNodes.length;c<d;c++){var f=a.childNodes[c];if(1===f.nodeType)switch(f.nodeName){case"instance_effect":b.url=e(f.getAttribute("url"));break}}_.materials[a.getAttribute("id")]=b}),f(V,"library_cameras","camera",function(a){for(var b={name:a.getAttribute("name")},c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];if(1===e.nodeType)switch(e.nodeName){case"optics":b.optics=w(e);break}}_.cameras[a.getAttribute("id")]=b}),f(V,"library_lights","light",function(a){for(var b={},c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];if(1===e.nodeType)switch(e.nodeName){case"technique_common":b=B(e);break}}_.lights[a.getAttribute("id")]=b}),f(V,"library_geometries","geometry",function(a){for(var c={name:a.getAttribute("name"),sources:{},vertices:{},primitives:[]},d=b(a,"mesh")[0],e=0;e<d.childNodes.length;e++){var f=d.childNodes[e];if(1===f.nodeType){var g=f.getAttribute("id");switch(f.nodeName){case"source":c.sources[g]=F(f);break;case"vertices":c.vertices=G(f);break;case"polygons":console.warn("ColladaLoader: Unsupported primitive type: ",f.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":c.primitives.push(H(f));break;default:console.log(f)}}}_.geometries[a.getAttribute("id")]=c}),f(V,"library_nodes","node",P),f(V,"library_visual_scenes","visual_scene",function(a){for(var c={name:a.getAttribute("name"),children:[]},d=b(a,"node"),e=0;e<d.length;e++)c.children.push(P(d[e]));_.visualScenes[a.getAttribute("id")]=c}),console.timeEnd("ColladaLoader: Parse"),console.time("ColladaLoader: Build"),g(_.images,i),g(_.effects,t),g(_.materials,u),g(_.cameras,z),g(_.lights,D),g(_.geometries,K),g(_.visualScenes,T),console.timeEnd("ColladaLoader: Build");var aa,ba,ca=(aa=b(V,"scene")[0],ba=e(b(aa,"instance_visual_scene")[0].getAttribute("url")),h(_.visualScenes[ba],T));return"Z_UP"===$.upAxis&&(ca.rotation.x=-Math.PI/2),ca.scale.multiplyScalar($.unit),console.timeEnd("ColladaLoader"),{animations:[],kinematics:{joints:[]},library:_,scene:ca}}}},8099:function(){THREE.BokehPass=function(a,b,c){THREE.Pass.call(this),this.scene=a,this.camera=b;var d=void 0!==c.focus?c.focus:1,e=void 0!==c.aspect?c.aspect:b.aspect,f=void 0!==c.aperture?c.aperture:.025,g=void 0!==c.maxblur?c.maxblur:1,h=c.width||window.innerWidth||1,i=c.height||window.innerHeight||1;this.renderTargetColor=new THREE.WebGLRenderTarget(h,i,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat}),this.renderTargetColor.texture.name="BokehPass.color",this.renderTargetDepth=this.renderTargetColor.clone(),this.renderTargetDepth.texture.name="BokehPass.depth",this.materialDepth=new THREE.MeshDepthMaterial(),void 0===THREE.BokehShader&&console.error("THREE.BokehPass relies on THREE.BokehShader");var j=THREE.BokehShader,k=THREE.UniformsUtils.clone(j.uniforms);k.tDepth.value=this.renderTargetDepth.texture,k.focus.value=d,k.aspect.value=e,k.aperture.value=f,k.maxblur.value=g,this.materialBokeh=new THREE.ShaderMaterial({uniforms:k,vertexShader:j.vertexShader,fragmentShader:j.fragmentShader}),this.uniforms=k,this.needsSwap=!1,this.camera2=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene2=new THREE.Scene(),this.quad2=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad2.frustumCulled=!1,this.scene2.add(this.quad2)},THREE.BokehPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.BokehPass,render:function(a,b,c,d,e){this.quad2.material=this.materialBokeh,this.scene.overrideMaterial=this.materialDepth,a.render(this.scene,this.camera,this.renderTargetDepth,!0),this.uniforms.tColor.value=c.texture,this.renderToScreen?a.render(this.scene2,this.camera2):a.render(this.scene2,this.camera2,b,this.clear),this.scene.overrideMaterial=null}})},1464:function(){THREE.DotScreenPass=function(a,b,c){THREE.Pass.call(this),void 0===THREE.DotScreenShader&&console.error("THREE.DotScreenPass relies on THREE.DotScreenShader");var d=THREE.DotScreenShader;this.uniforms=THREE.UniformsUtils.clone(d.uniforms),void 0!==a&&this.uniforms.center.value.copy(a),void 0!==b&&(this.uniforms.angle.value=b),void 0!==c&&(this.uniforms.scale.value=c),this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}),this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene(),this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},THREE.DotScreenPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.DotScreenPass,render:function(a,b,c,d,e){this.uniforms.tDiffuse.value=c.texture,this.uniforms.tSize.value.set(c.width,c.height),this.quad.material=this.material,this.renderToScreen?a.render(this.scene,this.camera):a.render(this.scene,this.camera,b,this.clear)}})},84:function(){THREE.EffectComposer=function(a,b){if(this.renderer=a,void 0===b){var c={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat,stencilBuffer:!1},d=a.getSize();(b=new THREE.WebGLRenderTarget(d.width,d.height,c)).texture.name="EffectComposer.rt1"}this.renderTarget1=b,this.renderTarget2=b.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===THREE.CopyShader&&console.error("THREE.EffectComposer relies on THREE.CopyShader"),this.copyPass=new THREE.ShaderPass(THREE.CopyShader)},Object.assign(THREE.EffectComposer.prototype,{swapBuffers:function(){var a=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=a},addPass:function(a){this.passes.push(a);var b=this.renderer.getSize();a.setSize(b.width,b.height)},insertPass:function(a,b){this.passes.splice(b,0,a)},render:function(a){var b,c,d=!1,e=this.passes.length;for(c=0;c<e;c++)if(!1!==(b=this.passes[c]).enabled){if(b.render(this.renderer,this.writeBuffer,this.readBuffer,a,d),b.needsSwap){if(d){var f=this.renderer.context;f.stencilFunc(f.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,a),f.stencilFunc(f.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==THREE.MaskPass&&(b instanceof THREE.MaskPass?d=!0:b instanceof THREE.ClearMaskPass&&(d=!1))}},reset:function(a){if(void 0===a){var b=this.renderer.getSize();(a=this.renderTarget1.clone()).setSize(b.width,b.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=a,this.renderTarget2=a.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(a,b){this.renderTarget1.setSize(a,b),this.renderTarget2.setSize(a,b);for(var c=0;c<this.passes.length;c++)this.passes[c].setSize(a,b)}}),THREE.Pass=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(THREE.Pass.prototype,{setSize:function(a,b){},render:function(a,b,c,d,e){console.error("THREE.Pass: .render() must be implemented in derived pass.")}})},9711:function(){THREE.FilmPass=function(a,b,c,d){THREE.Pass.call(this),void 0===THREE.FilmShader&&console.error("THREE.FilmPass relies on THREE.FilmShader");var e=THREE.FilmShader;this.uniforms=THREE.UniformsUtils.clone(e.uniforms),this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader}),void 0!==d&&(this.uniforms.grayscale.value=d),void 0!==a&&(this.uniforms.nIntensity.value=a),void 0!==b&&(this.uniforms.sIntensity.value=b),void 0!==c&&(this.uniforms.sCount.value=c),this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene(),this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},THREE.FilmPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.FilmPass,render:function(a,b,c,d,e){this.uniforms.tDiffuse.value=c.texture,this.uniforms.time.value+=d,this.quad.material=this.material,this.renderToScreen?a.render(this.scene,this.camera):a.render(this.scene,this.camera,b,this.clear)}})},6871:function(){THREE.GlitchPass=function(a){THREE.Pass.call(this),void 0===THREE.DigitalGlitch&&console.error("THREE.GlitchPass relies on THREE.DigitalGlitch");var b=THREE.DigitalGlitch;this.uniforms=THREE.UniformsUtils.clone(b.uniforms),void 0==a&&(a=64),this.uniforms.tDisp.value=this.generateHeightmap(a),this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:b.vertexShader,fragmentShader:b.fragmentShader}),this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene(),this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad),this.goWild=!1,this.curF=0,this.generateTrigger()},THREE.GlitchPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.GlitchPass,render:function(a,b,c,d,e){this.uniforms.tDiffuse.value=c.texture,this.uniforms.seed.value=Math.random(),this.uniforms.byp.value=0,this.curF%this.randX==0|| !0==this.goWild?(this.uniforms.amount.value=Math.random()/30,this.uniforms.angle.value=THREE.Math.randFloat(-Math.PI,Math.PI),this.uniforms.seed_x.value=THREE.Math.randFloat(-1,1),this.uniforms.seed_y.value=THREE.Math.randFloat(-1,1),this.uniforms.distortion_x.value=THREE.Math.randFloat(0,1),this.uniforms.distortion_y.value=THREE.Math.randFloat(0,1),this.curF=0,this.generateTrigger()):this.curF%this.randX<this.randX/5?(this.uniforms.amount.value=Math.random()/90,this.uniforms.angle.value=THREE.Math.randFloat(-Math.PI,Math.PI),this.uniforms.distortion_x.value=THREE.Math.randFloat(0,1),this.uniforms.distortion_y.value=THREE.Math.randFloat(0,1),this.uniforms.seed_x.value=THREE.Math.randFloat(-0.3,.3),this.uniforms.seed_y.value=THREE.Math.randFloat(-0.3,.3)):!1==this.goWild&&(this.uniforms.byp.value=1),this.curF++,this.quad.material=this.material,this.renderToScreen?a.render(this.scene,this.camera):a.render(this.scene,this.camera,b,this.clear)},generateTrigger:function(){this.randX=THREE.Math.randInt(120,240)},generateHeightmap:function(a){for(var b=new Float32Array(a*a*3),c=a*a,d=0;d<c;d++){var e=THREE.Math.randFloat(0,1);b[3*d+0]=e,b[3*d+1]=e,b[3*d+2]=e}var f=new THREE.DataTexture(b,a,a,THREE.RGBFormat,THREE.FloatType);return f.needsUpdate=!0,f}})},3155:function(){THREE.MaskPass=function(a,b){THREE.Pass.call(this),this.scene=a,this.camera=b,this.clear=!0,this.needsSwap=!1,this.inverse=!1},THREE.MaskPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.MaskPass,render:function(a,b,c,d,e){var f,g,h=a.context,i=a.state;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0),this.inverse?(f=0,g=1):(f=1,g=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(h.REPLACE,h.REPLACE,h.REPLACE),i.buffers.stencil.setFunc(h.ALWAYS,f,4294967295),i.buffers.stencil.setClear(g),a.render(this.scene,this.camera,c,this.clear),a.render(this.scene,this.camera,b,this.clear),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.stencil.setFunc(h.EQUAL,1,4294967295),i.buffers.stencil.setOp(h.KEEP,h.KEEP,h.KEEP)}}),THREE.ClearMaskPass=function(){THREE.Pass.call(this),this.needsSwap=!1},THREE.ClearMaskPass.prototype=Object.create(THREE.Pass.prototype),Object.assign(THREE.ClearMaskPass.prototype,{render:function(a,b,c,d,e){a.state.buffers.stencil.setTest(!1)}})},2399:function(){THREE.OutlinePass=function(a,b,c,d){this.renderScene=b,this.renderCamera=c,this.selectedObjects=void 0!==d?d:[],this.visibleEdgeColor=new THREE.Color(1,1,1),this.hiddenEdgeColor=new THREE.Color(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,THREE.Pass.call(this),this.resolution=void 0!==a?new THREE.Vector2(a.x,a.y):new THREE.Vector2(256,256);var e={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat},f=Math.round(this.resolution.x/this.downSampleRatio),g=Math.round(this.resolution.y/this.downSampleRatio);this.maskBufferMaterial=new THREE.MeshBasicMaterial({color:16777215}),this.maskBufferMaterial.side=THREE.DoubleSide,this.renderTargetMaskBuffer=new THREE.WebGLRenderTarget(this.resolution.x,this.resolution.y,e),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new THREE.MeshDepthMaterial(),this.depthMaterial.side=THREE.DoubleSide,this.depthMaterial.depthPacking=THREE.RGBADepthPacking,this.depthMaterial.blending=THREE.NoBlending,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=THREE.DoubleSide,this.renderTargetDepthBuffer=new THREE.WebGLRenderTarget(this.resolution.x,this.resolution.y,e),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new THREE.WebGLRenderTarget(f,g,e),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new THREE.WebGLRenderTarget(f,g,e),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new THREE.WebGLRenderTarget(Math.round(f/2),Math.round(g/2),e),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new THREE.WebGLRenderTarget(f,g,e),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new THREE.WebGLRenderTarget(Math.round(f/2),Math.round(g/2),e),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1,this.separableBlurMaterial1=this.getSeperableBlurMaterial(4),this.separableBlurMaterial1.uniforms.texSize.value=new THREE.Vector2(f,g),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(4),this.separableBlurMaterial2.uniforms.texSize.value=new THREE.Vector2(Math.round(f/2),Math.round(g/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=4,this.overlayMaterial=this.getOverlayMaterial(),void 0===THREE.CopyShader&&console.error("THREE.OutlinePass relies on THREE.CopyShader");var h=THREE.CopyShader;this.copyUniforms=THREE.UniformsUtils.clone(h.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new THREE.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,blending:THREE.NoBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new THREE.Color(),this.oldClearAlpha=1,this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene(),this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad),this.tempPulseColor1=new THREE.Color(),this.tempPulseColor2=new THREE.Color(),this.textureMatrix=new THREE.Matrix4()},THREE.OutlinePass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.OutlinePass,dispose:function(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose()},setSize:function(a,b){this.renderTargetMaskBuffer.setSize(a,b);var c=Math.round(a/this.downSampleRatio),d=Math.round(b/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(c,d),this.renderTargetBlurBuffer1.setSize(c,d),this.renderTargetEdgeBuffer1.setSize(c,d),this.separableBlurMaterial1.uniforms.texSize.value=new THREE.Vector2(c,d),c=Math.round(c/2),d=Math.round(d/2),this.renderTargetBlurBuffer2.setSize(c,d),this.renderTargetEdgeBuffer2.setSize(c,d),this.separableBlurMaterial2.uniforms.texSize.value=new THREE.Vector2(c,d)},changeVisibilityOfSelectedObjects:function(a){function b(b){b instanceof THREE.Mesh&&(b.visible=a)}for(var c=0;c<this.selectedObjects.length;c++)this.selectedObjects[c].traverse(b)},changeVisibilityOfNonSelectedObjects:function(a){var b=[];function c(a){a instanceof THREE.Mesh&&b.push(a)}for(var d=0;d<this.selectedObjects.length;d++)this.selectedObjects[d].traverse(c);this.renderScene.traverse(function(c){if(c instanceof THREE.Mesh){for(var d=!1,e=0;e<b.length;e++)if(b[e].id===c.id){d=!0;break}if(!d){var f=c.visible;(!a||c.bVisible)&&(c.visible=a),c.bVisible=f}}})},updateTextureMatrix:function(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)},render:function(a,b,c,d,e){if(0!==this.selectedObjects.length){this.oldClearColor.copy(a.getClearColor()),this.oldClearAlpha=a.getClearAlpha();var f=a.autoClear;if(a.autoClear=!1,e&&a.context.disable(a.context.STENCIL_TEST),a.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1),this.renderScene.overrideMaterial=this.depthMaterial,a.render(this.renderScene,this.renderCamera,this.renderTargetDepthBuffer,!0),this.changeVisibilityOfSelectedObjects(!0),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value=new THREE.Vector2(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,a.render(this.renderScene,this.renderCamera,this.renderTargetMaskBuffer,!0),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,a.render(this.scene,this.camera,this.renderTargetMaskDownSampleBuffer,!0),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){var g=.625+.75*Math.cos(.01*performance.now()/this.pulsePeriod)/2;this.tempPulseColor1.multiplyScalar(g),this.tempPulseColor2.multiplyScalar(g)}this.quad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value=new THREE.Vector2(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,a.render(this.scene,this.camera,this.renderTargetEdgeBuffer1,!0),this.quad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=THREE.OutlinePass.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,a.render(this.scene,this.camera,this.renderTargetBlurBuffer1,!0),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=THREE.OutlinePass.BlurDirectionY,a.render(this.scene,this.camera,this.renderTargetEdgeBuffer1,!0),this.quad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=THREE.OutlinePass.BlurDirectionX,a.render(this.scene,this.camera,this.renderTargetBlurBuffer2,!0),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=THREE.OutlinePass.BlurDirectionY,a.render(this.scene,this.camera,this.renderTargetEdgeBuffer2,!0),this.quad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,e&&a.context.enable(a.context.STENCIL_TEST),a.render(this.scene,this.camera,c,!1),a.setClearColor(this.oldClearColor,this.oldClearAlpha),a.autoClear=f}},getPrepareMaskMaterial:function(){return new THREE.ShaderMaterial({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new THREE.Vector2(.5,.5)},textureMatrix:{value:new THREE.Matrix4()}},vertexShader:"varying vec2 vUv;\t\t\t\tvarying vec4 projTexCoord;\t\t\t\tvarying vec4 vPosition;\t\t\t\tuniform mat4 textureMatrix;\t\t\t\tvoid main() {\t\t\t\t\tvUv = uv;\t\t\t\t\tvPosition = modelViewMatrix * vec4( position, 1.0 );\t\t\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\t\t\t\t\tprojTexCoord = textureMatrix * worldPosition;\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <packing>\t\t\t\tvarying vec2 vUv;\t\t\t\tvarying vec4 vPosition;\t\t\t\tvarying vec4 projTexCoord;\t\t\t\tuniform sampler2D depthTexture;\t\t\t\tuniform vec2 cameraNearFar;\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tfloat depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));\t\t\t\t\tfloat viewZ = -perspectiveDepthToViewZ( depth, cameraNearFar.x, cameraNearFar.y );\t\t\t\t\tfloat depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;\t\t\t\t\tgl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);\t\t\t\t}"})},getEdgeDetectionMaterial:function(){return new THREE.ShaderMaterial({uniforms:{maskTexture:{value:null},texSize:{value:new THREE.Vector2(.5,.5)},visibleEdgeColor:{value:new THREE.Vector3(1,1,1)},hiddenEdgeColor:{value:new THREE.Vector3(1,1,1)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D maskTexture;\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec3 visibleEdgeColor;\t\t\t\tuniform vec3 hiddenEdgeColor;\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tvec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\t\t\t\t\tvec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);\t\t\t\t\tvec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);\t\t\t\t\tvec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);\t\t\t\t\tvec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);\t\t\t\t\tfloat diff1 = (c1.r - c2.r)*0.5;\t\t\t\t\tfloat diff2 = (c3.r - c4.r)*0.5;\t\t\t\t\tfloat d = length( vec2(diff1, diff2) );\t\t\t\t\tfloat a1 = min(c1.g, c2.g);\t\t\t\t\tfloat a2 = min(c3.g, c4.g);\t\t\t\t\tfloat visibilityFactor = min(a1, a2);\t\t\t\t\tvec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;\t\t\t\t\tgl_FragColor = vec4(edgeColor, 1.0) * vec4(d);\t\t\t\t}"})},getSeperableBlurMaterial:function(a){return new THREE.ShaderMaterial({defines:{MAX_RADIUS:a},uniforms:{colorTexture:{value:null},texSize:{value:new THREE.Vector2(.5,.5)},direction:{value:new THREE.Vector2(.5,.5)},kernelRadius:{value:1}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\t\t\t\tuniform sampler2D colorTexture;\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\tuniform float kernelRadius;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, kernelRadius);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tvec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);\t\t\t\t\tvec2 uvOffset = delta;\t\t\t\t\tfor( int i = 1; i <= MAX_RADIUS; i ++ ) {\t\t\t\t\t\tfloat w = gaussianPdf(uvOffset.x, kernelRadius);\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += ((sample1 + sample2) * w);\t\t\t\t\t\tweightSum += (2.0 * w);\t\t\t\t\t\tuvOffset += delta;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\t\t\t\t}"})},getOverlayMaterial:function(){return new THREE.ShaderMaterial({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D maskTexture;\t\t\t\tuniform sampler2D edgeTexture1;\t\t\t\tuniform sampler2D edgeTexture2;\t\t\t\tuniform sampler2D patternTexture;\t\t\t\tuniform float edgeStrength;\t\t\t\tuniform float edgeGlow;\t\t\t\tuniform bool usePatternTexture;\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tvec4 edgeValue1 = texture2D(edgeTexture1, vUv);\t\t\t\t\tvec4 edgeValue2 = texture2D(edgeTexture2, vUv);\t\t\t\t\tvec4 maskColor = texture2D(maskTexture, vUv);\t\t\t\t\tvec4 patternColor = texture2D(patternTexture, 6.0 * vUv);\t\t\t\t\tfloat visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;\t\t\t\t\tvec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;\t\t\t\t\tvec4 finalColor = edgeStrength * maskColor.r * edgeValue;\t\t\t\t\tif(usePatternTexture)\t\t\t\t\t\tfinalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);\t\t\t\t\tgl_FragColor = finalColor;\t\t\t\t}",blending:THREE.AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0})}}),THREE.OutlinePass.BlurDirectionX=new THREE.Vector2(1,0),THREE.OutlinePass.BlurDirectionY=new THREE.Vector2(0,1)},9507:function(){THREE.RenderPass=function(a,b,c,d,e){THREE.Pass.call(this),this.scene=a,this.camera=b,this.overrideMaterial=c,this.clearColor=d,this.clearAlpha=void 0!==e?e:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1},THREE.RenderPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.RenderPass,render:function(a,b,c,d,e){var f,g,h=a.autoClear;a.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(f=a.getClearColor().getHex(),g=a.getClearAlpha(),a.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&a.clearDepth(),a.render(this.scene,this.camera,this.renderToScreen?null:c,this.clear),this.clearColor&&a.setClearColor(f,g),this.scene.overrideMaterial=null,a.autoClear=h}})},5367:function(){THREE.ShaderPass=function(a,b){THREE.Pass.call(this),this.textureID=void 0!==b?b:"tDiffuse",a instanceof THREE.ShaderMaterial?(this.uniforms=a.uniforms,this.material=a):a&&(this.uniforms=THREE.UniformsUtils.clone(a.uniforms),this.material=new THREE.ShaderMaterial({defines:a.defines||{},uniforms:this.uniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader})),this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene(),this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},THREE.ShaderPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.ShaderPass,render:function(a,b,c,d,e){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=c.texture),this.quad.material=this.material,this.renderToScreen?a.render(this.scene,this.camera):a.render(this.scene,this.camera,b,this.clear)}})},3702:function(){THREE.UnrealBloomPass=function(a,b,c,d){THREE.Pass.call(this),this.strength=void 0!==b?b:1,this.radius=c,this.threshold=d,this.resolution=void 0!==a?new THREE.Vector2(a.x,a.y):new THREE.Vector2(256,256);var e={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var f=Math.round(this.resolution.x/2),g=Math.round(this.resolution.y/2);this.renderTargetBright=new THREE.WebGLRenderTarget(f,g,e),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var h=0;h<this.nMips;h++){var i=new THREE.WebGLRenderTarget(f,g,e);i.texture.name="UnrealBloomPass.h"+h,i.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(i);var i=new THREE.WebGLRenderTarget(f,g,e);i.texture.name="UnrealBloomPass.v"+h,i.texture.generateMipmaps=!1,this.renderTargetsVertical.push(i),f=Math.round(f/2),g=Math.round(g/2)}void 0===THREE.LuminosityHighPassShader&&console.error("THREE.UnrealBloomPass relies on THREE.LuminosityHighPassShader");var j=THREE.LuminosityHighPassShader;this.highPassUniforms=THREE.UniformsUtils.clone(j.uniforms),this.highPassUniforms.luminosityThreshold.value=d,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new THREE.ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:j.vertexShader,fragmentShader:j.fragmentShader,defines:{}}),this.separableBlurMaterials=[];for(var k=[3,5,7,9,11],f=Math.round(this.resolution.x/2),g=Math.round(this.resolution.y/2),h=0;h<this.nMips;h++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(k[h])),this.separableBlurMaterials[h].uniforms.texSize.value=new THREE.Vector2(f,g),f=Math.round(f/2),g=Math.round(g/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=b,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0,this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===THREE.CopyShader&&console.error("THREE.BloomPass relies on THREE.CopyShader");var l=THREE.CopyShader;this.copyUniforms=THREE.UniformsUtils.clone(l.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new THREE.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,blending:THREE.AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new THREE.Color(),this.oldClearAlpha=1,this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene(),this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},THREE.UnrealBloomPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.UnrealBloomPass,dispose:function(){for(var a=0;a<this.renderTargetsHorizontal.length();a++)this.renderTargetsHorizontal[a].dispose();for(var a=0;a<this.renderTargetsVertical.length();a++)this.renderTargetsVertical[a].dispose();this.renderTargetBright.dispose()},setSize:function(a,b){var c=Math.round(a/2),d=Math.round(b/2);this.renderTargetBright.setSize(c,d);for(var e=0;e<this.nMips;e++)this.renderTargetsHorizontal[e].setSize(c,d),this.renderTargetsVertical[e].setSize(c,d),this.separableBlurMaterials[e].uniforms.texSize.value=new THREE.Vector2(c,d),c=Math.round(c/2),d=Math.round(d/2)},render:function(a,b,c,d,e){this.oldClearColor.copy(a.getClearColor()),this.oldClearAlpha=a.getClearAlpha();var f=a.autoClear;a.autoClear=!1,a.setClearColor(new THREE.Color(0,0,0),0),e&&a.context.disable(a.context.STENCIL_TEST),this.highPassUniforms.tDiffuse.value=c.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.quad.material=this.materialHighPassFilter,a.render(this.scene,this.camera,this.renderTargetBright,!0);for(var g=this.renderTargetBright,h=0;h<this.nMips;h++)this.quad.material=this.separableBlurMaterials[h],this.separableBlurMaterials[h].uniforms.colorTexture.value=g.texture,this.separableBlurMaterials[h].uniforms.direction.value=THREE.UnrealBloomPass.BlurDirectionX,a.render(this.scene,this.camera,this.renderTargetsHorizontal[h],!0),this.separableBlurMaterials[h].uniforms.colorTexture.value=this.renderTargetsHorizontal[h].texture,this.separableBlurMaterials[h].uniforms.direction.value=THREE.UnrealBloomPass.BlurDirectionY,a.render(this.scene,this.camera,this.renderTargetsVertical[h],!0),g=this.renderTargetsVertical[h];this.quad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,a.render(this.scene,this.camera,this.renderTargetsHorizontal[0],!0),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,e&&a.context.enable(a.context.STENCIL_TEST),a.render(this.scene,this.camera,c,!1),a.setClearColor(this.oldClearColor,this.oldClearAlpha),a.autoClear=f},getSeperableBlurMaterial:function(a){return new THREE.ShaderMaterial({defines:{KERNEL_RADIUS:a,SIGMA:a},uniforms:{colorTexture:{value:null},texSize:{value:new THREE.Vector2(.5,.5)},direction:{value:new THREE.Vector2(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat fSigma = float(SIGMA);\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\t\t\t\t\t\tfloat x = float(i);\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\t\t\t\t\t\tweightSum += 2.0 * w;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})},getCompositeMaterial:function(a){return new THREE.ShaderMaterial({defines:{NUM_MIPS:a},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D blurTexture1;\t\t\t\tuniform sampler2D blurTexture2;\t\t\t\tuniform sampler2D blurTexture3;\t\t\t\tuniform sampler2D blurTexture4;\t\t\t\tuniform sampler2D blurTexture5;\t\t\t\tuniform sampler2D dirtTexture;\t\t\t\tuniform float bloomStrength;\t\t\t\tuniform float bloomRadius;\t\t\t\tuniform float bloomFactors[NUM_MIPS];\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\t\t\t\t\t\t\t\tfloat lerpBloomFactor(const in float factor) { \t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\t\t\t\t}\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \t\t\t\t\t \t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\t\t\t\t}"})}}),THREE.UnrealBloomPass.BlurDirectionX=new THREE.Vector2(1,0),THREE.UnrealBloomPass.BlurDirectionY=new THREE.Vector2(0,1)},6354:function(){THREE.SpriteCanvasMaterial=function(a){THREE.Material.call(this),this.type="SpriteCanvasMaterial",this.color=new THREE.Color(16777215),this.program=function(){},this.setValues(a)},THREE.SpriteCanvasMaterial.prototype=Object.create(THREE.Material.prototype),THREE.SpriteCanvasMaterial.prototype.constructor=THREE.SpriteCanvasMaterial,THREE.SpriteCanvasMaterial.prototype.isSpriteCanvasMaterial=!0,THREE.SpriteCanvasMaterial.prototype.clone=function(){var a=new THREE.SpriteCanvasMaterial();return a.copy(this),a.color.copy(this.color),a.program=this.program,a},THREE.CanvasRenderer=function(a){console.log("THREE.CanvasRenderer",THREE.REVISION),a=a||{};var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=this,v=new THREE.Projector(),w=void 0!==a.canvas?a.canvas:document.createElement("canvas"),x=w.width,y=w.height,z=Math.floor(x/2),A=Math.floor(y/2),B=0,C=0,D=x,E=y,F=1,G=w.getContext("2d",{alpha:!0===a.alpha}),H=new THREE.Color(0),I=!0===a.alpha?0:1,J=1,K=0,L=null,M=null,N=null,O=null,P=null,Q=[],R=new THREE.Color(),S=new THREE.Color(),T=new THREE.Color(),U=new THREE.Color(),V={},W=new THREE.Box2(),X=new THREE.Box2(),Y=new THREE.Box2(),Z=new THREE.Color(),$=new THREE.Color(),_=new THREE.Color(),aa=new THREE.Vector3(),ba=new THREE.Vector3(),ca=new THREE.Vector3(),da=new THREE.Matrix3();function ea(a,b,c){na(c.opacity),oa(c.blending);var d=b.scale.x*z,e=b.scale.y*A,f=Math.sqrt(d*d+e*e);if(Y.min.set(a.x-f,a.y-f),Y.max.set(a.x+f,a.y+f),c.isSpriteMaterial){var g=c.map;if(null!==g){var h=V[g.id];if((void 0===h||h.version!==g.version)&&(h=ka(g),V[g.id]=h),void 0!==h.canvas){ta(h.canvas);var i=g.image,j=i.width*g.offset.x,k=i.height*g.offset.y,l=i.width*g.repeat.x,m=i.height*g.repeat.y,n=d/l,o=e/m;G.save(),G.translate(a.x,a.y),0!==c.rotation&&G.rotate(c.rotation),G.translate(-d/2,-e/2),G.scale(n,o),G.translate(-j,-k),G.fillRect(j,k,l,m),G.restore()}}else ta(c.color.getStyle()),G.save(),G.translate(a.x,a.y),0!==c.rotation&&G.rotate(c.rotation),G.scale(d,-e),G.fillRect(-0.5,-0.5,1,1),G.restore()}else c.isSpriteCanvasMaterial?(sa(c.color.getStyle()),ta(c.color.getStyle()),G.save(),G.translate(a.x,a.y),0!==c.rotation&&G.rotate(c.rotation),G.scale(d,e),c.program(G),G.restore()):c.isPointsMaterial&&(ta(c.color.getStyle()),G.save(),G.translate(a.x,a.y),0!==c.rotation&&G.rotate(c.rotation),G.scale(d*c.size,-e*c.size),G.fillRect(-0.5,-0.5,1,1),G.restore())}function fa(a,b,c,d){if(na(d.opacity),oa(d.blending),G.beginPath(),G.moveTo(a.positionScreen.x,a.positionScreen.y),G.lineTo(b.positionScreen.x,b.positionScreen.y),d.isLineBasicMaterial){if(pa(d.linewidth),qa(d.linecap),ra(d.linejoin),d.vertexColors!==THREE.VertexColors)sa(d.color.getStyle());else{var e=c.vertexColors[0].getStyle(),f=c.vertexColors[1].getStyle();if(e===f)sa(e);else{try{var g=G.createLinearGradient(a.positionScreen.x,a.positionScreen.y,b.positionScreen.x,b.positionScreen.y);g.addColorStop(0,e),g.addColorStop(1,f)}catch(h){g=e}sa(g)}}G.stroke(),Y.expandByScalar(2*d.linewidth)}else d.isLineDashedMaterial&&(pa(d.linewidth),qa(d.linecap),ra(d.linejoin),sa(d.color.getStyle()),ua([d.dashSize,d.gapSize]),G.stroke(),Y.expandByScalar(2*d.linewidth),ua([]))}function ga(a,b,c,e,f,g,v,w){(u.info.render.vertices+=3,u.info.render.faces++,na(w.opacity),oa(w.blending),h=a.positionScreen.x,i=a.positionScreen.y,j=b.positionScreen.x,k=b.positionScreen.y,l=c.positionScreen.x,m=c.positionScreen.y,ha(h,i,j,k,l,m),(w.isMeshLambertMaterial||w.isMeshPhongMaterial||w.isMeshStandardMaterial)&&null===w.map)?(S.copy(w.color),T.copy(w.emissive),w.vertexColors===THREE.FaceColors&&S.multiply(v.color),R.copy(Z),ba.copy(a.positionWorld).add(b.positionWorld).add(c.positionWorld).divideScalar(3),(function(a,b,c){for(var e=0,f=d.length;e<f;e++){var g=d[e];if(U.copy(g.color),g.isDirectionalLight){var h=aa.setFromMatrixPosition(g.matrixWorld).normalize(),i=b.dot(h);if(i<=0)continue;i*=g.intensity,c.add(U.multiplyScalar(i))}else if(g.isPointLight){var h=aa.setFromMatrixPosition(g.matrixWorld),i=b.dot(aa.subVectors(h,a).normalize());if(i<=0)continue;if(0==(i*=0==g.distance?1:1-Math.min(a.distanceTo(h)/g.distance,1)))continue;i*=g.intensity,c.add(U.multiplyScalar(i))}}})(ba,v.normalModel,R),R.multiply(S).add(T),!0===w.wireframe?ia(R,w.wireframeLinewidth,w.wireframeLinecap,w.wireframeLinejoin):ja(R)):w.isMeshBasicMaterial||w.isMeshLambertMaterial||w.isMeshPhongMaterial||w.isMeshStandardMaterial?null!==w.map?w.map.mapping===THREE.UVMapping&&la(h,i,j,k,l,m,(n=v.uvs)[e].x,n[e].y,n[f].x,n[f].y,n[g].x,n[g].y,w.map):null!==w.envMap?w.envMap.mapping===THREE.SphericalReflectionMapping&&(ca.copy(v.vertexNormalsModel[e]).applyMatrix3(da),o=.5*ca.x+.5,p=.5*ca.y+.5,ca.copy(v.vertexNormalsModel[f]).applyMatrix3(da),q=.5*ca.x+.5,r=.5*ca.y+.5,ca.copy(v.vertexNormalsModel[g]).applyMatrix3(da),s=.5*ca.x+.5,t=.5*ca.y+.5,la(h,i,j,k,l,m,o,p,q,r,s,t,w.envMap)):(R.copy(w.color),w.vertexColors===THREE.FaceColors&&R.multiply(v.color),!0===w.wireframe?ia(R,w.wireframeLinewidth,w.wireframeLinecap,w.wireframeLinejoin):ja(R)):w.isMeshNormalMaterial?(ca.copy(v.normalModel).applyMatrix3(da),R.setRGB(ca.x,ca.y,ca.z).multiplyScalar(.5).addScalar(.5),!0===w.wireframe?ia(R,w.wireframeLinewidth,w.wireframeLinecap,w.wireframeLinejoin):ja(R)):(R.setRGB(1,1,1),!0===w.wireframe?ia(R,w.wireframeLinewidth,w.wireframeLinecap,w.wireframeLinejoin):ja(R))}function ha(a,b,c,d,e,f){G.beginPath(),G.moveTo(a,b),G.lineTo(c,d),G.lineTo(e,f),G.closePath()}function ia(a,b,c,d){pa(b),qa(c),ra(d),sa(a.getStyle()),G.stroke(),Y.expandByScalar(2*b)}function ja(a){ta(a.getStyle()),G.fill()}function ka(a){if(0===a.version||a instanceof THREE.CompressedTexture||a instanceof THREE.DataTexture)return{canvas:void 0,version:a.version};var b=a.image;if(!1===b.complete)return{canvas:void 0,version:0};var c=a.wrapS===THREE.RepeatWrapping||a.wrapS===THREE.MirroredRepeatWrapping,d=a.wrapT===THREE.RepeatWrapping||a.wrapT===THREE.MirroredRepeatWrapping,e=a.wrapS===THREE.MirroredRepeatWrapping,f=a.wrapT===THREE.MirroredRepeatWrapping,g=document.createElement("canvas");g.width=b.width*(e?2:1),g.height=b.height*(f?2:1);var h=g.getContext("2d");h.setTransform(1,0,0,-1,0,b.height),h.drawImage(b,0,0),!0===e&&(h.setTransform(-1,0,0,-1,b.width,b.height),h.drawImage(b,-b.width,0)),!0===f&&(h.setTransform(1,0,0,1,0,0),h.drawImage(b,0,b.height)),!0===e&& !0===f&&(h.setTransform(-1,0,0,1,b.width,0),h.drawImage(b,-b.width,b.height));var i="no-repeat";!0===c&& !0===d?i="repeat":!0===c?i="repeat-x":!0===d&&(i="repeat-y");var j=G.createPattern(g,i);return a.onUpdate&&a.onUpdate(a),{canvas:j,version:a.version}}function la(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=V[m.id];if((void 0===n||n.version!==m.version)&&(n=ka(m),V[m.id]=n),void 0!==n.canvas)ta(n.canvas);else{ta("rgba( 0, 0, 0, 1)"),G.fill();return}var o,p,q,r,s,t,u,v,w=m.offset.x/m.repeat.x,x=m.offset.y/m.repeat.y,y=m.image.width*m.repeat.x,z=m.image.height*m.repeat.y;g=(g+w)*y,h=(h+x)*z,i=(i+w)*y,j=(j+x)*z,k=(k+w)*y,l=(l+x)*z,c-=a,d-=b,e-=a,f-=b,i-=g,j-=h,k-=g,0!=(u=i*(l-=h)-k*j)&&(o=(l*c-j*e)*(v=1/u),p=(l*d-j*f)*v,q=(i*e-k*c)*v,r=(i*f-k*d)*v,s=a-o*g-q*h,t=b-p*g-r*h,G.save(),G.transform(o,p,q,r,s,t),G.fill(),G.restore())}function ma(a,b,c){var d,e=b.x-a.x,f=b.y-a.y,g=e*e+f*f;0!==g&&(e*=d=c/Math.sqrt(g),f*=d,b.x+=e,b.y+=f,a.x-=e,a.y-=f)}function na(a){J!==a&&(G.globalAlpha=a,J=a)}function oa(a){K!==a&&(a===THREE.NormalBlending?G.globalCompositeOperation="source-over":a===THREE.AdditiveBlending?G.globalCompositeOperation="lighter":a===THREE.SubtractiveBlending?G.globalCompositeOperation="darker":a===THREE.MultiplyBlending&&(G.globalCompositeOperation="multiply"),K=a)}function pa(a){N!==a&&(G.lineWidth=a,N=a)}function qa(a){O!==a&&(G.lineCap=a,O=a)}function ra(a){P!==a&&(G.lineJoin=a,P=a)}function sa(a){L!==a&&(G.strokeStyle=a,L=a)}function ta(a){M!==a&&(G.fillStyle=a,M=a)}function ua(a){Q.length!==a.length&&(G.setLineDash(a),Q=a)}void 0===G.setLineDash&&(G.setLineDash=function(){}),this.domElement=w,this.autoClear=!0,this.sortObjects=!0,this.sortElements=!0,this.info={render:{vertices:0,faces:0}},this.supportsVertexTextures=function(){},this.setFaceCulling=function(){},this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(a){void 0!==a&&(F=a)},this.setSize=function(a,b,c){x=a*F,y=b*F,w.width=x,w.height=y,z=Math.floor(x/2),A=Math.floor(y/2),!1!==c&&(w.style.width=a+"px",w.style.height=b+"px"),W.min.set(-z,-A),W.max.set(z,A),X.min.set(-z,-A),X.max.set(z,A),J=1,K=0,L=null,M=null,N=null,O=null,P=null,this.setViewport(0,0,a,b)},this.setViewport=function(a,b,c,d){B=a*F,C=b*F,D=c*F,E=d*F},this.setScissor=function(){},this.setScissorTest=function(){},this.setClearColor=function(a,b){H.set(a),I=void 0!==b?b:1,X.min.set(-z,-A),X.max.set(z,A)},this.setClearColorHex=function(a,b){console.warn("THREE.CanvasRenderer: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(a,b)},this.getClearColor=function(){return H},this.getClearAlpha=function(){return I},this.getMaxAnisotropy=function(){return 0},this.clear=function(){!1===X.isEmpty()&&(X.intersect(W),X.expandByScalar(2),X.min.x=X.min.x+z,X.min.y=-X.min.y+A,X.max.x=X.max.x+z,X.max.y=-X.max.y+A,I<1&&G.clearRect(0|X.min.x,0|X.max.y,X.max.x-X.min.x|0,X.min.y-X.max.y|0),I>0&&(oa(THREE.NormalBlending),na(1),ta("rgba("+Math.floor(255*H.r)+","+Math.floor(255*H.g)+","+Math.floor(255*H.b)+","+I+")"),G.fillRect(0|X.min.x,0|X.max.y,X.max.x-X.min.x|0,X.min.y-X.max.y|0)),X.makeEmpty())},this.clearColor=function(){},this.clearDepth=function(){},this.clearStencil=function(){},this.render=function(a,h){if(void 0===h.isCamera){console.error("THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.");return}var i=a.background;i&&i.isColor?(ta("rgb("+Math.floor(255*i.r)+","+Math.floor(255*i.g)+","+Math.floor(255*i.b)+")"),G.fillRect(0,0,x,y)):!0===this.autoClear&&this.clear(),u.info.render.vertices=0,u.info.render.faces=0,G.setTransform(D/x,0,0,-E/y,B,y-C),G.translate(z,A),c=(b=v.projectScene(a,h,this.sortObjects,this.sortElements)).elements,d=b.lights,da.getNormalMatrix(h.matrixWorldInverse),(function(){Z.setRGB(0,0,0),$.setRGB(0,0,0),_.setRGB(0,0,0);for(var a=0,b=d.length;a<b;a++){var c=d[a],e=c.color;c.isAmbientLight?Z.add(e):c.isDirectionalLight?$.add(e):c.isPointLight&&_.add(e)}})();for(var j=0,k=c.length;j<k;j++){var l=c[j],m=l.material;if(void 0!==m&&0!==m.opacity){if(Y.makeEmpty(),l instanceof THREE.RenderableSprite)e=l,e.x*=z,e.y*=A,ea(e,l,m);else if(l instanceof THREE.RenderableLine)e=l.v1,f=l.v2,e.positionScreen.x*=z,e.positionScreen.y*=A,f.positionScreen.x*=z,f.positionScreen.y*=A,Y.setFromPoints([e.positionScreen,f.positionScreen]),!0===W.intersectsBox(Y)&&fa(e,f,l,m);else if(l instanceof THREE.RenderableFace){if(e=l.v1,f=l.v2,g=l.v3,e.positionScreen.z< -1||e.positionScreen.z>1)continue;if(f.positionScreen.z< -1||f.positionScreen.z>1)continue;if(g.positionScreen.z< -1||g.positionScreen.z>1)continue;e.positionScreen.x*=z,e.positionScreen.y*=A,f.positionScreen.x*=z,f.positionScreen.y*=A,g.positionScreen.x*=z,g.positionScreen.y*=A,m.overdraw>0&&(ma(e.positionScreen,f.positionScreen,m.overdraw),ma(f.positionScreen,g.positionScreen,m.overdraw),ma(g.positionScreen,e.positionScreen,m.overdraw)),Y.setFromPoints([e.positionScreen,f.positionScreen,g.positionScreen]),!0===W.intersectsBox(Y)&&ga(e,f,g,0,1,2,l,m)}X.union(Y)}}G.setTransform(1,0,0,1,0,0)}}},7853:function(){THREE.RenderableObject=function(){this.id=0,this.object=null,this.z=0,this.renderOrder=0},THREE.RenderableFace=function(){this.id=0,this.v1=new THREE.RenderableVertex(),this.v2=new THREE.RenderableVertex(),this.v3=new THREE.RenderableVertex(),this.normalModel=new THREE.Vector3(),this.vertexNormalsModel=[new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3()],this.vertexNormalsLength=0,this.color=new THREE.Color(),this.material=null,this.uvs=[new THREE.Vector2(),new THREE.Vector2(),new THREE.Vector2()],this.z=0,this.renderOrder=0},THREE.RenderableVertex=function(){this.position=new THREE.Vector3(),this.positionWorld=new THREE.Vector3(),this.positionScreen=new THREE.Vector4(),this.visible=!0},THREE.RenderableVertex.prototype.copy=function(a){this.positionWorld.copy(a.positionWorld),this.positionScreen.copy(a.positionScreen)},THREE.RenderableLine=function(){this.id=0,this.v1=new THREE.RenderableVertex(),this.v2=new THREE.RenderableVertex(),this.vertexColors=[new THREE.Color(),new THREE.Color()],this.material=null,this.z=0,this.renderOrder=0},THREE.RenderableSprite=function(){this.id=0,this.object=null,this.x=0,this.y=0,this.z=0,this.rotation=0,this.scale=new THREE.Vector2(),this.material=null,this.renderOrder=0},THREE.Projector=function(){var a,b,c,d,e,f,g,h,i,j,k,l=[],m=0,n=[],o=0,p=[],q=0,r=[],s=0,t=[],u=0,v={objects:[],lights:[],elements:[]},w=new THREE.Vector3(),x=new THREE.Vector4(),y=new THREE.Box3(new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,1,1)),z=new THREE.Box3(),A=new Array(3),B=new THREE.Matrix4(),C=new THREE.Matrix4(),D=new THREE.Matrix4(),E=new THREE.Matrix3(),F=new THREE.Frustum(),G=new THREE.Vector4(),H=new THREE.Vector4();this.projectVector=function(a,b){console.warn("THREE.Projector: .projectVector() is now vector.project()."),a.project(b)},this.unprojectVector=function(a,b){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),a.unproject(b)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")};var I=new function(){var a=[],b=[],d=[],f=null,h=null,i=new THREE.Matrix3();function j(a){var b=a.position,c=a.positionWorld,d=a.positionScreen;c.copy(b).applyMatrix4(k),d.copy(c).applyMatrix4(C);var e=1/d.w;d.x*=e,d.y*=e,d.z*=e,a.visible=d.x>= -1&&d.x<=1&&d.y>= -1&&d.y<=1&&d.z>= -1&&d.z<=1}function l(a,b,c){return!0===a.visible|| !0===b.visible|| !0===c.visible||(A[0]=a.positionScreen,A[1]=b.positionScreen,A[2]=c.positionScreen,y.intersectsBox(z.setFromPoints(A)))}function m(a,b,c){return(c.positionScreen.x-a.positionScreen.x)*(b.positionScreen.y-a.positionScreen.y)-(c.positionScreen.y-a.positionScreen.y)*(b.positionScreen.x-a.positionScreen.x)<0}return{setObject:function(c){h=(f=c).material,i.getNormalMatrix(f.matrixWorld),a.length=0,b.length=0,d.length=0},projectVertex:j,checkTriangleVisibility:l,checkBackfaceCulling:m,pushVertex:function(a,b,d){(c=N()).position.set(a,b,d),j(c)},pushNormal:function(b,c,d){a.push(b,c,d)},pushColor:function(a,c,d){b.push(a,c,d)},pushUv:function(a,b){d.push(a,b)},pushLine:function(a,c){var d=n[a],e=n[c];d.positionScreen.copy(d.position).applyMatrix4(D),e.positionScreen.copy(e.position).applyMatrix4(D),!0===S(d.positionScreen,e.positionScreen)&&(d.positionScreen.multiplyScalar(1/d.positionScreen.w),e.positionScreen.multiplyScalar(1/e.positionScreen.w),(g=P()).id=f.id,g.v1.copy(d),g.v2.copy(e),g.z=Math.max(d.positionScreen.z,e.positionScreen.z),g.renderOrder=f.renderOrder,g.material=f.material,f.material.vertexColors===THREE.VertexColors&&(g.vertexColors[0].fromArray(b,3*a),g.vertexColors[1].fromArray(b,3*c)),v.elements.push(g))},pushTriangle:function(b,c,g){var j=n[b],k=n[c],o=n[g];if(!1!==l(j,k,o)&&(h.side===THREE.DoubleSide|| !0===m(j,k,o))){(e=O()).id=f.id,e.v1.copy(j),e.v2.copy(k),e.v3.copy(o),e.z=(j.positionScreen.z+k.positionScreen.z+o.positionScreen.z)/3,e.renderOrder=f.renderOrder,e.normalModel.fromArray(a,3*b),e.normalModel.applyMatrix3(i).normalize();for(var p=0;p<3;p++){var q=e.vertexNormalsModel[p];q.fromArray(a,3*arguments[p]),q.applyMatrix3(i).normalize(),e.uvs[p].fromArray(d,2*arguments[p])}e.vertexNormalsLength=3,e.material=f.material,v.elements.push(e)}}}}();function J(a){if(!1!==a.visible){if(a instanceof THREE.Light)v.lights.push(a);else if(a instanceof THREE.Mesh||a instanceof THREE.Line||a instanceof THREE.Points){if(!1===a.material.visible)return;if(!0===a.frustumCulled&& !1===F.intersectsObject(a))return;K(a)}else if(a instanceof THREE.Sprite){if(!1===a.material.visible)return;if(!0===a.frustumCulled&& !1===F.intersectsSprite(a))return;K(a)}for(var b=a.children,c=0,d=b.length;c<d;c++)J(b[c])}}function K(b){(a=M()).id=b.id,a.object=b,w.setFromMatrixPosition(b.matrixWorld),w.applyMatrix4(C),a.z=w.z,a.renderOrder=b.renderOrder,v.objects.push(a)}function L(a,b,c){var d=1/a.w;a.z*=d,a.z>= -1&&a.z<=1&&((i=Q()).id=b.id,i.x=a.x*d,i.y=a.y*d,i.z=a.z,i.renderOrder=b.renderOrder,i.object=b,i.rotation=b.rotation,i.scale.x=b.scale.x*Math.abs(i.x-(a.x+c.projectionMatrix.elements[0])/(a.w+c.projectionMatrix.elements[12])),i.scale.y=b.scale.y*Math.abs(i.y-(a.y+c.projectionMatrix.elements[5])/(a.w+c.projectionMatrix.elements[13])),i.material=b.material,v.elements.push(i))}function M(){if(b===m){var a=new THREE.RenderableObject();return l.push(a),m++,b++,a}return l[b++]}function N(){if(d===o){var a=new THREE.RenderableVertex();return n.push(a),o++,d++,a}return n[d++]}function O(){if(f===q){var a=new THREE.RenderableFace();return p.push(a),q++,f++,a}return p[f++]}function P(){if(h===s){var a=new THREE.RenderableLine();return r.push(a),s++,h++,a}return r[h++]}function Q(){if(j===u){var a=new THREE.RenderableSprite();return t.push(a),u++,j++,a}return t[j++]}function R(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id!==b.id?a.id-b.id:0}function S(a,b){var c=0,d=1,e=a.z+a.w,f=b.z+b.w,g=-a.z+a.w,h=-b.z+b.w;return e>=0&&f>=0&&g>=0&&h>=0||(!(e<0)||!(f<0))&&(!(g<0)||!(h<0))&&(e<0?c=Math.max(c,e/(e-f)):f<0&&(d=Math.min(d,e/(e-f))),g<0?c=Math.max(c,g/(g-h)):h<0&&(d=Math.min(d,g/(g-h))),!(d<c)&&(a.lerp(b,c),b.lerp(a,1-d),!0))}this.projectScene=function(a,c,i,l){f=0,h=0,j=0,v.elements.length=0,!0===a.autoUpdate&&a.updateMatrixWorld(),null===c.parent&&c.updateMatrixWorld(),B.copy(c.matrixWorldInverse.getInverse(c.matrixWorld)),C.multiplyMatrices(c.projectionMatrix,B),F.setFromMatrix(C),b=0,v.objects.length=0,v.lights.length=0,J(a),!0===i&&v.objects.sort(R);for(var m=v.objects,o=0,p=m.length;o<p;o++){var q=m[o].object,r=q.geometry;if(I.setObject(q),k=q.matrixWorld,d=0,q instanceof THREE.Mesh){if(r instanceof THREE.BufferGeometry){var s=r.attributes,t=r.groups;if(void 0===s.position)continue;for(var u=s.position.array,y=0,z=u.length;y<z;y+=3)I.pushVertex(u[y],u[y+1],u[y+2]);if(void 0!==s.normal)for(var A=s.normal.array,y=0,z=A.length;y<z;y+=3)I.pushNormal(A[y],A[y+1],A[y+2]);if(void 0!==s.uv)for(var K=s.uv.array,y=0,z=K.length;y<z;y+=2)I.pushUv(K[y],K[y+1]);if(null!==r.index){var M=r.index.array;if(t.length>0)for(var Q=0;Q<t.length;Q++)for(var T=t[Q],y=T.start,z=T.start+T.count;y<z;y+=3)I.pushTriangle(M[y],M[y+1],M[y+2]);else for(var y=0,z=M.length;y<z;y+=3)I.pushTriangle(M[y],M[y+1],M[y+2])}else for(var y=0,z=u.length/3;y<z;y+=3)I.pushTriangle(y,y+1,y+2)}else if(r instanceof THREE.Geometry){var U=r.vertices,V=r.faces,W=r.faceVertexUvs[0];E.getNormalMatrix(k);for(var X=q.material,Y=Array.isArray(X),Z=0,$=U.length;Z<$;Z++){var _=U[Z];if(w.copy(_),!0===X.morphTargets)for(var aa=r.morphTargets,ba=q.morphTargetInfluences,ca=0,da=aa.length;ca<da;ca++){var ea=ba[ca];if(0!==ea){var fa=aa[ca].vertices[Z];w.x+=(fa.x-_.x)*ea,w.y+=(fa.y-_.y)*ea,w.z+=(fa.z-_.z)*ea}}I.pushVertex(w.x,w.y,w.z)}for(var ga=0,ha=V.length;ga<ha;ga++){var ia=V[ga];if(void 0!==(X=!0===Y?q.material[ia.materialIndex]:q.material)){var ja=X.side,ka=n[ia.a],la=n[ia.b],ma=n[ia.c];if(!1!==I.checkTriangleVisibility(ka,la,ma)){var na=I.checkBackfaceCulling(ka,la,ma);if(ja!==THREE.DoubleSide){if(ja===THREE.FrontSide&& !1===na)continue;if(ja===THREE.BackSide&& !0===na)continue}(e=O()).id=q.id,e.v1.copy(ka),e.v2.copy(la),e.v3.copy(ma),e.normalModel.copy(ia.normal),!1===na&&(ja===THREE.BackSide||ja===THREE.DoubleSide)&&e.normalModel.negate(),e.normalModel.applyMatrix3(E).normalize();for(var oa=ia.vertexNormals,pa=0,qa=Math.min(oa.length,3);pa<qa;pa++){var ra=e.vertexNormalsModel[pa];ra.copy(oa[pa]),!1===na&&(ja===THREE.BackSide||ja===THREE.DoubleSide)&&ra.negate(),ra.applyMatrix3(E).normalize()}e.vertexNormalsLength=oa.length;var sa=W[ga];if(void 0!==sa)for(var ta=0;ta<3;ta++)e.uvs[ta].copy(sa[ta]);e.color=ia.color,e.material=X,e.z=(ka.positionScreen.z+la.positionScreen.z+ma.positionScreen.z)/3,e.renderOrder=q.renderOrder,v.elements.push(e)}}}}}else if(q instanceof THREE.Line){if(D.multiplyMatrices(C,k),r instanceof THREE.BufferGeometry){var s=r.attributes;if(void 0!==s.position){for(var u=s.position.array,y=0,z=u.length;y<z;y+=3)I.pushVertex(u[y],u[y+1],u[y+2]);if(void 0!==s.color)for(var ua=s.color.array,y=0,z=ua.length;y<z;y+=3)I.pushColor(ua[y],ua[y+1],ua[y+2]);if(null!==r.index)for(var M=r.index.array,y=0,z=M.length;y<z;y+=2)I.pushLine(M[y],M[y+1]);else for(var va=q instanceof THREE.LineSegments?2:1,y=0,z=u.length/3-1;y<z;y+=va)I.pushLine(y,y+1)}}else if(r instanceof THREE.Geometry){var U=q.geometry.vertices;if(0===U.length)continue;(ka=N()).positionScreen.copy(U[0]).applyMatrix4(D);for(var va=q instanceof THREE.LineSegments?2:1,Z=1,$=U.length;Z<$;Z++)(ka=N()).positionScreen.copy(U[Z]).applyMatrix4(D),(Z+1)%va>0||(la=n[d-2],G.copy(ka.positionScreen),H.copy(la.positionScreen),!0===S(G,H)&&(G.multiplyScalar(1/G.w),H.multiplyScalar(1/H.w),(g=P()).id=q.id,g.v1.positionScreen.copy(G),g.v2.positionScreen.copy(H),g.z=Math.max(G.z,H.z),g.renderOrder=q.renderOrder,g.material=q.material,q.material.vertexColors===THREE.VertexColors&&(g.vertexColors[0].copy(q.geometry.colors[Z]),g.vertexColors[1].copy(q.geometry.colors[Z-1])),v.elements.push(g)))}}else if(q instanceof THREE.Points){if(D.multiplyMatrices(C,k),r instanceof THREE.Geometry)for(var U=q.geometry.vertices,Z=0,$=U.length;Z<$;Z++){var _=U[Z];x.set(_.x,_.y,_.z,1),x.applyMatrix4(D),L(x,q,c)}}else q instanceof THREE.Sprite&&(x.set(k.elements[12],k.elements[13],k.elements[14],1),x.applyMatrix4(C),L(x,q,c))}return!0===l&&v.elements.sort(R),v}}},5169:function(){THREE.BleachBypassShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform float opacity;\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvoid main() {\nvec4 base = texture2D( tDiffuse, vUv );\nvec3 lumCoeff = vec3( 0.25, 0.65, 0.1 );\nfloat lum = dot( lumCoeff, base.rgb );\nvec3 blend = vec3( lum );\nfloat L = min( 1.0, max( 0.0, 10.0 * ( lum - 0.45 ) ) );\nvec3 result1 = 2.0 * base.rgb * blend;\nvec3 result2 = 1.0 - 2.0 * ( 1.0 - blend ) * ( 1.0 - base.rgb );\nvec3 newColor = mix( result1, result2, L );\nfloat A2 = opacity * base.a;\nvec3 mixRGB = A2 * newColor.rgb;\nmixRGB += ( ( 1.0 - A2 ) * base.rgb );\ngl_FragColor = vec4( mixRGB, base.a );\n}"}},3207:function(){THREE.BlendShader={uniforms:{tDiffuse1:{value:null},tDiffuse2:{value:null},mixRatio:{value:.5},opacity:{value:1}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform float opacity;\nuniform float mixRatio;\nuniform sampler2D tDiffuse1;\nuniform sampler2D tDiffuse2;\nvarying vec2 vUv;\nvoid main() {\nvec4 texel1 = texture2D( tDiffuse1, vUv );\nvec4 texel2 = texture2D( tDiffuse2, vUv );\ngl_FragColor = opacity * mix( texel1, texel2, mixRatio );\n}"}},7098:function(){THREE.BokehShader={uniforms:{tColor:{value:null},tDepth:{value:null},focus:{value:1},aspect:{value:1},aperture:{value:.025},maxblur:{value:1}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"varying vec2 vUv;\nuniform sampler2D tColor;\nuniform sampler2D tDepth;\nuniform float maxblur;\nuniform float aperture;\nuniform float focus;\nuniform float aspect;\nvoid main() {\nvec2 aspectcorrect = vec2( 1.0, aspect );\nvec4 depth1 = texture2D( tDepth, vUv );\nfloat factor = depth1.x - focus;\nvec2 dofblur = vec2 ( clamp( factor * aperture, -maxblur, maxblur ) );\nvec2 dofblur9 = dofblur * 0.9;\nvec2 dofblur7 = dofblur * 0.7;\nvec2 dofblur4 = dofblur * 0.4;\nvec4 col = vec4( 0.0 );\ncol += texture2D( tColor, vUv.xy );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur9 );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur9 );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur9 );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur9 );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur9 );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur9 );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur9 );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur9 );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur7 );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur7 );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur7 );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur7 );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur7 );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur7 );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur7 );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur7 );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur4 );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.4,   0.0  ) * aspectcorrect ) * dofblur4 );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur4 );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur4 );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur4 );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur4 );\ncol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur4 );\ncol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur4 );\ngl_FragColor = col / 41.0;\ngl_FragColor.a = 1.0;\n}"}},8554:function(){THREE.ColorCorrectionShader={uniforms:{tDiffuse:{value:null},powRGB:{value:new THREE.Vector3(2,2,2)},mulRGB:{value:new THREE.Vector3(1,1,1)},addRGB:{value:new THREE.Vector3(0,0,0)}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nuniform vec3 powRGB;\nuniform vec3 mulRGB;\nuniform vec3 addRGB;\nvarying vec2 vUv;\nvoid main() {\ngl_FragColor = texture2D( tDiffuse, vUv );\ngl_FragColor.rgb = mulRGB * pow( ( gl_FragColor.rgb + addRGB ), powRGB );\n}"}},5187:function(){THREE.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform float opacity;\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvoid main() {\nvec4 texel = texture2D( tDiffuse, vUv );\ngl_FragColor = opacity * texel;\n}"}},8411:function(){THREE.DigitalGlitch={uniforms:{tDiffuse:{value:null},tDisp:{value:null},byp:{value:0},amount:{value:.08},angle:{value:.02},seed:{value:.02},seed_x:{value:.02},seed_y:{value:.02},distortion_x:{value:.5},distortion_y:{value:.6},col_s:{value:.05}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform int byp;\nuniform sampler2D tDiffuse;\nuniform sampler2D tDisp;\nuniform float amount;\nuniform float angle;\nuniform float seed;\nuniform float seed_x;\nuniform float seed_y;\nuniform float distortion_x;\nuniform float distortion_y;\nuniform float col_s;\nvarying vec2 vUv;\nfloat rand(vec2 co){\nreturn fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nvoid main() {\nif(byp<1) {\nvec2 p = vUv;\nfloat xs = floor(gl_FragCoord.x / 0.5);\nfloat ys = floor(gl_FragCoord.y / 0.5);\nvec4 normal = texture2D (tDisp, p*seed*seed);\nif(p.y<distortion_x+col_s && p.y>distortion_x-col_s*seed) {\nif(seed_x>0.){\np.y = 1. - (p.y + distortion_y);\n}\nelse {\np.y = distortion_y;\n}\n}\nif(p.x<distortion_y+col_s && p.x>distortion_y-col_s*seed) {\nif(seed_y>0.){\np.x=distortion_x;\n}\nelse {\np.x = 1. - (p.x + distortion_x);\n}\n}\np.x+=normal.x*seed_x*(seed/5.);\np.y+=normal.y*seed_y*(seed/5.);\nvec2 offset = amount * vec2( cos(angle), sin(angle));\nvec4 cr = texture2D(tDiffuse, p + offset);\nvec4 cga = texture2D(tDiffuse, p);\nvec4 cb = texture2D(tDiffuse, p - offset);\ngl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\nvec4 snow = 200.*amount*vec4(rand(vec2(xs * seed,ys * seed*50.))*0.2);\ngl_FragColor = gl_FragColor+ snow;\n}\nelse {\ngl_FragColor=texture2D (tDiffuse, vUv);\n}\n}"}},3904:function(){THREE.DotScreenShader={uniforms:{tDiffuse:{value:null},tSize:{value:new THREE.Vector2(256,256)},center:{value:new THREE.Vector2(.5,.5)},angle:{value:1.57},scale:{value:1}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform vec2 center;\nuniform float angle;\nuniform float scale;\nuniform vec2 tSize;\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\nfloat pattern() {\nfloat s = sin( angle ), c = cos( angle );\nvec2 tex = vUv * tSize - center;\nvec2 point = vec2( c * tex.x - s * tex.y, s * tex.x + c * tex.y ) * scale;\nreturn ( sin( point.x ) * sin( point.y ) ) * 4.0;\n}\nvoid main() {\nvec4 color = texture2D( tDiffuse, vUv );\nfloat average = ( color.r + color.g + color.b ) / 3.0;\ngl_FragColor = vec4( vec3( average * 10.0 - 5.0 + pattern() ), color.a );\n}"}},2614:function(){THREE.EdgeShader2={uniforms:{tDiffuse:{value:null},aspect:{value:new THREE.Vector2(512,512)}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nvarying vec2 vUv;\nuniform vec2 aspect;\nvec2 texel = vec2(1.0 / aspect.x, 1.0 / aspect.y);\nmat3 G[2];\nconst mat3 g0 = mat3( 1.0, 2.0, 1.0, 0.0, 0.0, 0.0, -1.0, -2.0, -1.0 );\nconst mat3 g1 = mat3( 1.0, 0.0, -1.0, 2.0, 0.0, -2.0, 1.0, 0.0, -1.0 );\nvoid main(void)\n{\nmat3 I;\nfloat cnv[2];\nvec3 sample;\nG[0] = g0;\nG[1] = g1;\nfor (float i=0.0; i<3.0; i++)\nfor (float j=0.0; j<3.0; j++) {\nsample = texture2D( tDiffuse, vUv + texel * vec2(i-1.0,j-1.0) ).rgb;\nI[int(i)][int(j)] = length(sample);\n}\nfor (int i=0; i<2; i++) {\nfloat dp3 = dot(G[i][0], I[0]) + dot(G[i][1], I[1]) + dot(G[i][2], I[2]);\ncnv[i] = dp3 * dp3; \n}\ngl_FragColor = vec4(0.5 * sqrt(cnv[0]*cnv[0]+cnv[1]*cnv[1]));\n} "}},2032:function(){THREE.FXAAShader={uniforms:{tDiffuse:{value:null},resolution:{value:new THREE.Vector2(1/1024,1/512)}},vertexShader:"void main() {\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nuniform vec2 resolution;\n#define FXAA_REDUCE_MIN   (1.0/128.0)\n#define FXAA_REDUCE_MUL   (1.0/8.0)\n#define FXAA_SPAN_MAX     8.0\nvoid main() {\nvec3 rgbNW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ).xyz;\nvec3 rgbNE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ).xyz;\nvec3 rgbSW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ).xyz;\nvec3 rgbSE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ).xyz;\nvec4 rgbaM  = texture2D( tDiffuse,  gl_FragCoord.xy  * resolution );\nvec3 rgbM  = rgbaM.xyz;\nvec3 luma = vec3( 0.299, 0.587, 0.114 );\nfloat lumaNW = dot( rgbNW, luma );\nfloat lumaNE = dot( rgbNE, luma );\nfloat lumaSW = dot( rgbSW, luma );\nfloat lumaSE = dot( rgbSE, luma );\nfloat lumaM  = dot( rgbM,  luma );\nfloat lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\nfloat lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\nvec2 dir;\ndir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\ndir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\nfloat dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\nfloat rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\ndir = min( vec2( FXAA_SPAN_MAX,  FXAA_SPAN_MAX),\nmax( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\ndir * rcpDirMin)) * resolution;\nvec4 rgbA = (1.0/2.0) * (\ntexture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (1.0/3.0 - 0.5)) +\ntexture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (2.0/3.0 - 0.5)));\nvec4 rgbB = rgbA * (1.0/2.0) + (1.0/4.0) * (\ntexture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (0.0/3.0 - 0.5)) +\ntexture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (3.0/3.0 - 0.5)));\nfloat lumaB = dot(rgbB, vec4(luma, 0.0));\nif ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) ) {\ngl_FragColor = rgbA;\n} else {\ngl_FragColor = rgbB;\n}\n}"}},5029:function(){THREE.FilmShader={uniforms:{tDiffuse:{value:null},time:{value:0},nIntensity:{value:.5},sIntensity:{value:.05},sCount:{value:4096},grayscale:{value:1}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"#include <common>\nuniform float time;\nuniform bool grayscale;\nuniform float nIntensity;\nuniform float sIntensity;\nuniform float sCount;\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvoid main() {\nvec4 cTextureScreen = texture2D( tDiffuse, vUv );\nfloat dx = rand( vUv + time );\nvec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp( 0.1 + dx, 0.0, 1.0 );\nvec2 sc = vec2( sin( vUv.y * sCount ), cos( vUv.y * sCount ) );\ncResult += cTextureScreen.rgb * vec3( sc.x, sc.y, sc.x ) * sIntensity;\ncResult = cTextureScreen.rgb + clamp( nIntensity, 0.0,1.0 ) * ( cResult - cTextureScreen.rgb );\nif( grayscale ) {\ncResult = vec3( cResult.r * 0.3 + cResult.g * 0.59 + cResult.b * 0.11 );\n}\ngl_FragColor =  vec4( cResult, cTextureScreen.a );\n}"}},3926:function(){THREE.FocusShader={uniforms:{tDiffuse:{value:null},screenWidth:{value:1024},screenHeight:{value:1024},sampleDistance:{value:.94},waveFactor:{value:.00125}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform float screenWidth;\nuniform float screenHeight;\nuniform float sampleDistance;\nuniform float waveFactor;\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvoid main() {\nvec4 color, org, tmp, add;\nfloat sample_dist, f;\nvec2 vin;\nvec2 uv = vUv;\nadd = color = org = texture2D( tDiffuse, uv );\nvin = ( uv - vec2( 0.5 ) ) * vec2( 1.4 );\nsample_dist = dot( vin, vin ) * 2.0;\nf = ( waveFactor * 100.0 + sample_dist ) * sampleDistance * 4.0;\nvec2 sampleSize = vec2(  1.0 / screenWidth, 1.0 / screenHeight ) * vec2( f );\nadd += tmp = texture2D( tDiffuse, uv + vec2( 0.111964, 0.993712 ) * sampleSize );\nif( tmp.b < color.b ) color = tmp;\nadd += tmp = texture2D( tDiffuse, uv + vec2( 0.846724, 0.532032 ) * sampleSize );\nif( tmp.b < color.b ) color = tmp;\nadd += tmp = texture2D( tDiffuse, uv + vec2( 0.943883, -0.330279 ) * sampleSize );\nif( tmp.b < color.b ) color = tmp;\nadd += tmp = texture2D( tDiffuse, uv + vec2( 0.330279, -0.943883 ) * sampleSize );\nif( tmp.b < color.b ) color = tmp;\nadd += tmp = texture2D( tDiffuse, uv + vec2( -0.532032, -0.846724 ) * sampleSize );\nif( tmp.b < color.b ) color = tmp;\nadd += tmp = texture2D( tDiffuse, uv + vec2( -0.993712, -0.111964 ) * sampleSize );\nif( tmp.b < color.b ) color = tmp;\nadd += tmp = texture2D( tDiffuse, uv + vec2( -0.707107, 0.707107 ) * sampleSize );\nif( tmp.b < color.b ) color = tmp;\ncolor = color * vec4( 2.0 ) - ( add / vec4( 8.0 ) );\ncolor = color + ( add / vec4( 8.0 ) - color ) * ( vec4( 1.0 ) - vec4( sample_dist * 0.5 ) );\ngl_FragColor = vec4( color.rgb * color.rgb * vec3( 0.95 ) + color.rgb, 1.0 );\n}"}},6444:function(){THREE.HorizontalBlurShader={uniforms:{tDiffuse:{value:null},h:{value:.001953125}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nuniform float h;\nvarying vec2 vUv;\nvoid main() {\nvec4 sum = vec4( 0.0 );\nsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\nsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\nsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\nsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\nsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\nsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\nsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\nsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\ngl_FragColor = sum;\n}"}},9910:function(){THREE.HorizontalTiltShiftShader={uniforms:{tDiffuse:{value:null},h:{value:.001953125},r:{value:.35}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nuniform float h;\nuniform float r;\nvarying vec2 vUv;\nvoid main() {\nvec4 sum = vec4( 0.0 );\nfloat hh = h * abs( r - vUv.y );\nsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * hh, vUv.y ) ) * 0.051;\nsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * hh, vUv.y ) ) * 0.0918;\nsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * hh, vUv.y ) ) * 0.12245;\nsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * hh, vUv.y ) ) * 0.1531;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\nsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * hh, vUv.y ) ) * 0.1531;\nsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * hh, vUv.y ) ) * 0.12245;\nsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * hh, vUv.y ) ) * 0.0918;\nsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * hh, vUv.y ) ) * 0.051;\ngl_FragColor = sum;\n}"}},5026:function(){THREE.LuminosityHighPassShader={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{type:"t",value:null},luminosityThreshold:{type:"f",value:1},smoothWidth:{type:"f",value:1},defaultColor:{type:"c",value:new THREE.Color(0)},defaultOpacity:{type:"f",value:0}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nuniform vec3 defaultColor;\nuniform float defaultOpacity;\nuniform float luminosityThreshold;\nuniform float smoothWidth;\nvarying vec2 vUv;\nvoid main() {\nvec4 texel = texture2D( tDiffuse, vUv );\nvec3 luma = vec3( 0.299, 0.587, 0.114 );\nfloat v = dot( texel.xyz, luma );\nvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\nfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\ngl_FragColor = mix( outputColor, texel, alpha );\n}"}},6225:function(){THREE.RGBShiftShader={uniforms:{tDiffuse:{value:null},amount:{value:.005},angle:{value:0}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nuniform float amount;\nuniform float angle;\nvarying vec2 vUv;\nvoid main() {\nvec2 offset = amount * vec2( cos(angle), sin(angle));\nvec4 cr = texture2D(tDiffuse, vUv + offset);\nvec4 cga = texture2D(tDiffuse, vUv);\nvec4 cb = texture2D(tDiffuse, vUv - offset);\ngl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\n}"}},2892:function(){THREE.ToneMapShader={uniforms:{tDiffuse:{value:null},averageLuminance:{value:1},luminanceMap:{value:null},maxLuminance:{value:16},minLuminance:{value:.01},middleGrey:{value:.6}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nvarying vec2 vUv;\nuniform float middleGrey;\nuniform float minLuminance;\nuniform float maxLuminance;\n#ifdef ADAPTED_LUMINANCE\nuniform sampler2D luminanceMap;\n#else\nuniform float averageLuminance;\n#endif\nconst vec3 LUM_CONVERT = vec3(0.299, 0.587, 0.114);\nvec3 ToneMap( vec3 vColor ) {\n#ifdef ADAPTED_LUMINANCE\nfloat fLumAvg = texture2D(luminanceMap, vec2(0.5, 0.5)).r;\n#else\nfloat fLumAvg = averageLuminance;\n#endif\nfloat fLumPixel = dot(vColor, LUM_CONVERT);\nfloat fLumScaled = (fLumPixel * middleGrey) / max( minLuminance, fLumAvg );\nfloat fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (maxLuminance * maxLuminance)))) / (1.0 + fLumScaled);\nreturn fLumCompressed * vColor;\n}\nvoid main() {\nvec4 texel = texture2D( tDiffuse, vUv );\ngl_FragColor = vec4( ToneMap( texel.xyz ), texel.w );\n}"}},5275:function(){THREE.VerticalBlurShader={uniforms:{tDiffuse:{value:null},v:{value:.001953125}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nuniform float v;\nvarying vec2 vUv;\nvoid main() {\nvec4 sum = vec4( 0.0 );\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\ngl_FragColor = sum;\n}"}},4903:function(){THREE.VerticalTiltShiftShader={uniforms:{tDiffuse:{value:null},v:{value:.001953125},r:{value:.35}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nuniform float v;\nuniform float r;\nvarying vec2 vUv;\nvoid main() {\nvec4 sum = vec4( 0.0 );\nfloat vv = v * abs( r - vUv.y );\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * vv ) ) * 0.051;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * vv ) ) * 0.0918;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * vv ) ) * 0.12245;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * vv ) ) * 0.1531;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * vv ) ) * 0.1531;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * vv ) ) * 0.12245;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * vv ) ) * 0.0918;\nsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * vv ) ) * 0.051;\ngl_FragColor = sum;\n}"}},972:function(){THREE.VignetteShader={uniforms:{tDiffuse:{value:null},offset:{value:1},darkness:{value:1}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform float offset;\nuniform float darkness;\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvoid main() {\nvec4 texel = texture2D( tDiffuse, vUv );\nvec2 uv = ( vUv - vec2( 0.5 ) ) * vec2( offset );\ngl_FragColor = vec4( mix( texel.rgb, vec3( 1.0 - darkness ), dot( uv, uv ) ), texel.a );\n}"}},8217:function(a,b,c){"use strict";var d=c(6086),e=c(7294);b.useSubscription=function(a){var b=a.getCurrentValue,c=a.subscribe,f=e.useState(function(){return{getCurrentValue:b,subscribe:c,value:b()}});a=f[0];var g=f[1];return f=a.value,(a.getCurrentValue!==b||a.subscribe!==c)&&(f=b(),g({getCurrentValue:b,subscribe:c,value:f})),e.useDebugValue(f),e.useEffect(function(){function a(){if(!e){var a=b();g(function(e){return e.getCurrentValue!==b||e.subscribe!==c||e.value===a?e:d({},e,{value:a})})}}var e=!1,f=c(a);return a(),function(){e=!0,f()}},[b,c]),f}},7161:function(a,b,c){"use strict";a.exports=c(8217)}}])